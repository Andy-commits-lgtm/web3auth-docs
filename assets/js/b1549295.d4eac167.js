"use strict";(self.webpackChunkweb3auth_docs=self.webpackChunkweb3auth_docs||[]).push([[35662],{41409:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>T,contentTitle:()=>w,default:()=>I,frontMatter:()=>k,metadata:()=>M,toc:()=>A});var n=t(85893),i=t(11151),a=t(85162),o=t(74866);function s(e){const r={a:"a",code:"code",h3:"h3",h4:"h4",h5:"h5",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.p,{children:"Modules extend the tKey SDK's capability to provide additional functionality for managing your tKey shares. Out of the multiple modules available, you\ncan choose the module you want to include in your implementation. Here is the list of available modules:"}),"\n",(0,n.jsx)(r.h3,{id:"share-b-storage-modules",children:"Share B (Storage Modules)"}),"\n",(0,n.jsx)(r.p,{children:"Storage Modules are used to store the tKey shares in the user's device storage. You can choose any of the following modules:"}),"\n",(0,n.jsx)(r.h4,{id:"web-storage-module",children:"Web Storage Module"}),"\n",(0,n.jsx)(r.p,{children:"Adds the capability to add or remove a share from the local and file storage."}),"\n",(0,n.jsx)(r.h5,{id:"tkeyweb-storage",children:(0,n.jsx)(r.a,{href:"https://www.npmjs.com/package/@tkey/web-storage",children:(0,n.jsx)(r.code,{children:"@tkey/web-storage"})})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'import { WebStorageModule } from "@tkey/web-storage";\nconst webStorageModule = new WebStorageModule();\n'})}),"\n",(0,n.jsx)(r.h4,{id:"react-native-storage-module",children:"React Native Storage Module"}),"\n",(0,n.jsx)(r.p,{children:"Adds the capability to add or remove a share from the React Native Encrypted Store/ Expo Secure Store."}),"\n",(0,n.jsx)(r.h5,{id:"tkeyreact-native-storage",children:(0,n.jsx)(r.a,{href:"https://www.npmjs.com/package/@tkey/react-native-storage",children:(0,n.jsx)(r.code,{children:"@tkey/react-native-storage"})})}),"\n",(0,n.jsxs)(o.Z,{defaultValue:"bare",values:[{label:"Bare React Native",value:"bare"},{label:"Expo React Native",value:"expo"}],children:[(0,n.jsx)(a.Z,{value:"bare",children:(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'import { ReactNativeStorageModule } from "@tkey/react-native-storage";\nimport EncryptedStorage from "react-native-encrypted-storage";\nconst reactNativeStorageModule = new ReactNativeStorageModule(EncryptedStorage);\n'})})}),(0,n.jsx)(a.Z,{value:"expo",children:(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'import { ReactNativeStorageModule } from "@tkey/react-native-storage";\nimport * as SecureStore from "expo-secure-store";\nconst reactNativeStorageModule = new ReactNativeStorageModule(SecureStore);\n'})})})]}),"\n",(0,n.jsx)(r.h4,{id:"chrome-storage-module",children:"Chrome Storage Module"}),"\n",(0,n.jsx)(r.p,{children:"Adds the capability to add or remove a share from the Chrome Extension storage."}),"\n",(0,n.jsx)(r.h5,{id:"tkeychrome-storage",children:(0,n.jsx)(r.a,{href:"https://www.npmjs.com/package/@tkey/chrome-storage",children:(0,n.jsx)(r.code,{children:"@tkey/chrome-storage"})})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'import { ChromeExtensionStorageModule } from "@tkey/chrome-storage";\nconst chromeStorageModule = new ChromeExtensionStorageModule();\n'})}),"\n",(0,n.jsx)(r.h3,{id:"recovery-modules-share-c",children:"Recovery Modules (Share C)"}),"\n",(0,n.jsx)(r.p,{children:"Recovery Modules are used to recover the tKey shares in the case user doesn't have access to their device/storage or needs additional security."}),"\n",(0,n.jsx)(r.h4,{id:"security-questions-module",children:"Security Questions Module"}),"\n",(0,n.jsx)(r.p,{children:"Adds the capability to add or remove a question and password as a share."}),"\n",(0,n.jsx)(r.h5,{id:"tkeysecurity-questions",children:(0,n.jsx)(r.a,{href:"https://www.npmjs.com/package/@tkey/security-questions",children:(0,n.jsx)(r.code,{children:"@tkey/security-questions"})})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'import { SecurityQuestionsModule } from "@tkey/security-questions";\nconst securityQuestionsModule = new SecurityQuestionsModule();\n'})}),"\n",(0,n.jsx)(r.h4,{id:"share-transfer-module",children:"Share Transfer Module"}),"\n",(0,n.jsx)(r.p,{children:"Adds the capability to transfer a share to another device."}),"\n",(0,n.jsx)(r.h5,{id:"tkeyshare-transfer",children:(0,n.jsx)(r.a,{href:"https://www.npmjs.com/package/@tkey/share-transfer",children:(0,n.jsx)(r.code,{children:"@tkey/share-transfer"})})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'import { ShareTransferModule } from "@tkey/share-transfer";\nconst shareTransferModule = new ShareTransferModule();\n'})}),"\n",(0,n.jsx)(r.h4,{id:"share-serialization-module",children:"Share Serialization Module"}),"\n",(0,n.jsx)(r.p,{children:"Adds the capability to serialize/ deserialize a BN (private key) into a mnemonic."}),"\n",(0,n.jsx)(r.h5,{id:"tkeyshare-serialization",children:(0,n.jsx)(r.a,{href:"https://www.npmjs.com/package/@tkey/share-serialization",children:(0,n.jsx)(r.code,{children:"@tkey/share-serialization"})})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'import { ShareSerializationModule } from "@tkey/share-serialization";\nconst shareSerializationModule = new ShareSerializationModule();\n'})}),"\n",(0,n.jsx)(r.h3,{id:"additional-modules",children:"Additional Modules"}),"\n",(0,n.jsx)(r.p,{children:"These modules provide extra capability to the tKey SDK, like importing users' existing private keys or seedphrases."}),"\n",(0,n.jsx)(r.h4,{id:"seed-phrase-module",children:"Seed Phrase Module"}),"\n",(0,n.jsx)(r.p,{children:"Adds the capability to store and use seed phrases on the metadata."}),"\n",(0,n.jsx)(r.h5,{id:"tkeyseed-phrase",children:(0,n.jsx)(r.a,{href:"https://www.npmjs.com/package/@tkey/seed-phrase",children:(0,n.jsx)(r.code,{children:"@tkey/seed-phrase"})})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'import { SeedPhraseModule } from "@tkey/seed-phrase";\nconst seedPhraseModule = new SeedPhraseModule();\n'})}),"\n",(0,n.jsx)(r.h4,{id:"private-keys-module",children:"Private Keys Module"}),"\n",(0,n.jsx)(r.p,{children:"Adds the capability to store extra private keys on the metadata."}),"\n",(0,n.jsx)(r.h5,{id:"tkeyprivate-keys",children:(0,n.jsx)(r.a,{href:"https://www.npmjs.com/package/@tkey/private-keys",children:(0,n.jsx)(r.code,{children:"@tkey/private-keys"})})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'import { PrivateKeyModule } from "@tkey/private-keys";\nconst privateKeyModule = new PrivateKeyModule();\n'})})]})}function c(e={}){const{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(s,{...e})}):s(e)}function l(e){const r={code:"code",pre:"pre",...(0,i.a)(),...e.components};return(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'const clientId = "BPi5PB_UiIZ-cPz1GtV5i1I2iOSOHuimiXBI0e-Oe_u6X3oVAbCiAZOTEBtTXw4tsluTITPqA8zMsfxIKMjiqNQ"; // get from https://dashboard.web3auth.io\n\nconst chainConfig = {\n  chainId: "0x1",\n  rpcTarget: "https://rpc.ankr.com/eth",\n  displayName: "mainnet",\n  blockExplorer: "https://etherscan.io/",\n  ticker: "ETH",\n  tickerName: "Ethereum",\n};\n\nconst web3AuthOptions: any = {\n  clientId, // Get your Client ID from the Web3Auth Dashboard\n  chainConfig,\n  web3AuthNetwork: "sapphire_mainnet", // ["sapphire_mainnet", "sapphire_devnet"]\n};\n\n// Configuration of Service Provider\nconst serviceProvider = new SFAServiceProvider({ web3AuthOptions });\n'})})}function d(e={}){const{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}function h(e){const r={code:"code",pre:"pre",...(0,i.a)(),...e.components};return(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'import { EthereumPrivateKeyProvider } from "@web3auth/ethereum-provider";\n\nconst chainConfig = {\n  chainId: "0x1",\n  rpcTarget: "https://rpc.ankr.com/eth",\n  displayName: "mainnet",\n  blockExplorer: "https://etherscan.io/",\n  ticker: "ETH",\n  tickerName: "Ethereum",\n};\n\nexport const ethereumPrivateKeyProvider = new EthereumPrivateKeyProvider({\n  config: {\n    chainConfig,\n  },\n});\n\nuseEffect(() => {\n  const init = async () => {\n    // Initialization of Service Provider\n    try {\n      await (tKeyInstance.serviceProvider as any).init(ethereumPrivateKeyProvider);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  init();\n}, []);\n'})})}function u(e={}){const{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}function p(e){const r={code:"code",h4:"h4",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h4,{id:"torusstoragelayerargs",children:(0,n.jsx)(r.code,{children:"TorusStorageLayerArgs"})}),"\n",(0,n.jsxs)(r.p,{children:["This ",(0,n.jsx)(r.code,{children:"TorusStorageLayer"})," constructor takes an object with ",(0,n.jsx)(r.code,{children:"TorusStorageLayerArgs"})," as input. It contains the following parameters:"]}),"\n",(0,n.jsxs)(o.Z,{defaultValue:"table",values:[{label:"Table",value:"table"},{label:"Type Reference",value:"type"}],children:[(0,n.jsx)(a.Z,{value:"table",children:(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Parameter"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Description"}),(0,n.jsx)(r.th,{children:"Mandatory"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"enableLogging?"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"boolean"})}),(0,n.jsx)(r.td,{children:"Enables logging on the console"}),(0,n.jsx)(r.td,{children:"No"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"hostUrl?"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"string"})}),(0,n.jsxs)(r.td,{children:["URL for connecting to your metadata server. Use ",(0,n.jsx)(r.code,{children:"https://metadata.tor.us"})," for connecting to the Torus Metadata Server"]}),(0,n.jsx)(r.td,{children:"No"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"serverTimeOffset?"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"number"})}),(0,n.jsx)(r.td,{children:"Time offset for letting user connect to metadata server"}),(0,n.jsx)(r.td,{children:"No"})]})]})]})}),(0,n.jsx)(a.Z,{value:"type",children:(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:"declare type TorusStorageLayerArgs = {\n  enableLogging?: boolean;\n  hostUrl?: string; // use `https://metadata.tor.us` for connecting to the Torus Metadata Server\n  serverTimeOffset?: number;\n};\n"})})})]})]})}function x(e={}){const{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}function m(e){const r={code:"code",pre:"pre",...(0,i.a)(),...e.components};return(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'import TorusStorageLayer from "@tkey/storage-layer-torus";\n\nconst storageLayer = new TorusStorageLayer({ hostUrl: "https://metadata.tor.us" });\n'})})}function g(e={}){const{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(m,{...e})}):m(e)}function y(e){const r={code:"code",h4:"h4",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h4,{id:"tkeyargs",children:(0,n.jsx)(r.code,{children:"TKeyArgs"})}),"\n",(0,n.jsxs)(o.Z,{defaultValue:"table",values:[{label:"Table",value:"table"},{label:"Type Declaration",value:"type"}],children:[(0,n.jsx)(a.Z,{value:"table",children:(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Parameter"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Description"}),(0,n.jsx)(r.th,{children:"Mandatory"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"enableLogging?"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"boolean"})}),(0,n.jsx)(r.td,{children:"This option is used to specify whether to enable logging."}),(0,n.jsx)(r.td,{children:"No"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"modules?"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"ModuleMap"})}),(0,n.jsx)(r.td,{children:"An object mapping the modules needed to be configured with their instances within the app"}),(0,n.jsx)(r.td,{children:"No"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"serviceProvider?"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"IServiceProvider"})}),(0,n.jsx)(r.td,{children:"Takes in the Service Provider Instance"}),(0,n.jsx)(r.td,{children:"No"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"storageLayer?"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"IStorageLayer"})}),(0,n.jsx)(r.td,{children:"Takes in the Storage Layer Instance"}),(0,n.jsx)(r.td,{children:"No"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"customAuthArgs?"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"CustomAuthArgs"})}),(0,n.jsxs)(r.td,{children:["Optional, you can pass the ",(0,n.jsx)(r.code,{children:"customAuthArgs"})," from Web3Auth Service Provider here as well."]}),(0,n.jsx)(r.td,{children:"No"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"manualSync?"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"boolean"})}),(0,n.jsx)(r.td,{children:"Helps you turn on manual sync, which helps you configure Tkey to not constant the server for every request. You can sync at your convenience."}),(0,n.jsx)(r.td,{children:"No"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"serverTimeOffset?"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"number"})}),(0,n.jsx)(r.td,{children:"Time offset for letting user connect to metadata server"}),(0,n.jsx)(r.td,{children:"No"})]})]})]})}),(0,n.jsx)(a.Z,{value:"type",children:(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:"declare type TKeyArgs = {\n  enableLogging?: boolean;\n  modules?: ModuleMap; // pass over the modules you want to use\n  serviceProvider?: IServiceProvider; // pass over the service provider variable you instantiated\n  storageLayer?: IStorageLayer; // pass over the storage layer variable you instantiated\n  customAuthArgs?: CustomAuthArgs; // you need to pass the customAuthArgs from Web3Auth Service Provider here.\n  manualSync?: boolean;\n  serverTimeOffset?: number;\n};\n\nexport declare type ModuleMap = {\n  [moduleName: string]: IModule;\n};\n"})})})]})]})}function j(e={}){const{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(y,{...e})}):y(e)}function v(e){const r={code:"code",pre:"pre",...(0,i.a)(),...e.components};return(0,n.jsxs)(o.Z,{defaultValue:"web",values:[{label:"Web",value:"web"},{label:"Bare React Native",value:"bare"},{label:"Expo React Native",value:"expo"}],children:[(0,n.jsx)(a.Z,{value:"web",children:(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'import ThresholdKey from "@tkey/core";\nimport SecurityQuestionsModule from "@tkey/security-questions";\nimport SFAServiceProvider from "@tkey/service-provider-sfa";\nimport TorusStorageLayer from "@tkey/storage-layer-torus";\nimport { ShareSerializationModule } from "@tkey/share-serialization";\nimport { WebStorageModule } from "@tkey/web-storage";\n\n// Configuration of Service Provider\nconst clientId = "BEglQSgt4cUWcj6SKRdu5QkOXTsePmMcusG5EAoyjyOYKlVRjIF1iCNnMOTfpzCiunHRrMui8TIwQPXdkQ8Yxuk"; // get from https://dashboard.web3auth.io\n\nconst chainConfig = {\n  chainId: "0x1",\n  rpcTarget: "https://rpc.ankr.com/eth",\n  displayName: "mainnet",\n  blockExplorer: "https://etherscan.io/",\n  ticker: "ETH",\n  tickerName: "Ethereum",\n};\n\nconst web3AuthOptions: any = {\n  clientId, // Get your Client ID from the Web3Auth Dashboard\n  chainConfig,\n  web3AuthNetwork: "sapphire_mainnet", // ["sapphire_mainnet", "testnet"]\n};\n\nconst serviceProvider = new SFAServiceProvider({ web3AuthOptions });\n\n// Configuration of Storage Layer\nconst storageLayer = new TorusStorageLayer({\n  hostUrl: "https://metadata.tor.us",\n});\n\n// Configuration of Modules\nconst webStorageModule = new WebStorageModule();\nconst shareSerializationModule = new ShareSerializationModule();\nconst securityQuestionsModule = new SecurityQuestionsModule();\n\n// Instantiation of tKey\nexport const tKeyInstance = new ThresholdKey({\n  serviceProvider,\n  storageLayer,\n  modules: {\n    securityQuestions: securityQuestionsModule,\n    shareSerialization: shareSerializationModule,\n    webStorage: webStorageModule,\n  },\n});\n'})})}),(0,n.jsx)(a.Z,{value:"bare",children:(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'import ThresholdKey from "@tkey/core";\nimport SecurityQuestionsModule from "@tkey/security-questions";\nimport SFAServiceProvider from "@tkey/service-provider-sfa";\nimport TorusStorageLayer from "@tkey/storage-layer-torus";\nimport { ShareSerializationModule } from "@tkey/share-serialization";\nimport { ReactNativeStorageModule } from "@tkey/react-native-storage";\nimport EncryptedStorage from "react-native-encrypted-storage";\n\n// Configuration of Service Provider\nconst clientId = "BEglQSgt4cUWcj6SKRdu5QkOXTsePmMcusG5EAoyjyOYKlVRjIF1iCNnMOTfpzCiunHRrMui8TIwQPXdkQ8Yxuk"; // get from https://dashboard.web3auth.io\n\nconst chainConfig = {\n  chainId: "0x1",\n  rpcTarget: "https://rpc.ankr.com/eth",\n  displayName: "mainnet",\n  blockExplorer: "https://etherscan.io/",\n  ticker: "ETH",\n  tickerName: "Ethereum",\n};\n\nconst web3AuthOptions: any = {\n  clientId, // Get your Client ID from the Web3Auth Dashboard\n  chainConfig,\n  web3AuthNetwork: "sapphire_mainnet", // ["sapphire_mainnet", "testnet"]\n};\n\nconst serviceProvider = new SFAServiceProvider({ web3AuthOptions });\n\n// Configuration of Storage Layer\nconst storageLayer = new TorusStorageLayer({\n  hostUrl: "https://metadata.tor.us",\n});\n\n// Configuration of Modules\nconst reactNativeStorageModule = new ReactNativeStorageModule(EncryptedStorage);\nconst shareSerializationModule = new ShareSerializationModule();\nconst securityQuestionsModule = new SecurityQuestionsModule();\n\n// Instantiation of tKey\nexport const tKeyInstance = new ThresholdKey({\n  serviceProvider,\n  storageLayer,\n  modules: {\n    securityQuestions: securityQuestionsModule,\n    shareSerialization: shareSerializationModule,\n    reactNativeStorage: reactNativeStorageModule,\n  },\n});\n'})})}),(0,n.jsx)(a.Z,{value:"expo",children:(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:'import ThresholdKey from "@tkey/core";\nimport SecurityQuestionsModule from "@tkey/security-questions";\nimport SFAServiceProvider from "@tkey/service-provider-sfa";\nimport TorusStorageLayer from "@tkey/storage-layer-torus";\nimport { ShareSerializationModule } from "@tkey/share-serialization";\nimport { ReactNativeStorageModule } from "@tkey/react-native-storage";\nimport * as SecureStore from "expo-secure-store";\n\n// Configuration of Service Provider\nconst clientId = "BEglQSgt4cUWcj6SKRdu5QkOXTsePmMcusG5EAoyjyOYKlVRjIF1iCNnMOTfpzCiunHRrMui8TIwQPXdkQ8Yxuk"; // get from https://dashboard.web3auth.io\n\nconst chainConfig = {\n  chainId: "0x1",\n  rpcTarget: "https://rpc.ankr.com/eth",\n  displayName: "mainnet",\n  blockExplorer: "https://etherscan.io/",\n  ticker: "ETH",\n  tickerName: "Ethereum",\n};\n\nconst web3AuthOptions: any = {\n  clientId, // Get your Client ID from the Web3Auth Dashboard\n  chainConfig,\n  web3AuthNetwork: "testnet", // ["sapphire_mainnet", "testnet"]\n};\n\nconst serviceProvider = new SFAServiceProvider({ web3AuthOptions });\n\n// Configuration of Storage Layer\nconst storageLayer = new TorusStorageLayer({\n  hostUrl: "https://metadata.tor.us",\n});\n\n// Configuration of Modules\nconst reactNativeStorageModule = new ReactNativeStorageModule(SecureStore);\nconst shareSerializationModule = new ShareSerializationModule();\nconst securityQuestionsModule = new SecurityQuestionsModule();\n\n// Instantiation of tKey\nexport const tKeyInstance = new ThresholdKey({\n  serviceProvider,\n  storageLayer,\n  modules: {\n    securityQuestions: securityQuestionsModule,\n    shareSerialization: shareSerializationModule,\n    reactNativeStorage: reactNativeStorageModule,\n  },\n});\n'})})})]})}function f(e={}){const{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(v,{...e})}):v(e)}function b(e){const r={a:"a",code:"code",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.a)(),...e.components};return(0,n.jsxs)(o.Z,{defaultValue:"table",values:[{label:"Table",value:"table"},{label:"Interface",value:"interface"}],children:[(0,n.jsx)(a.Z,{value:"table",children:(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Parameter"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Description"}),(0,n.jsx)(r.th,{children:"Mandatory"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"clientId"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"string"})}),(0,n.jsxs)(r.td,{children:["Web3Auth Client ID. Obtain your ",(0,n.jsx)(r.code,{children:"clientId"})," from the ",(0,n.jsx)(r.a,{href:"https://dashboard.web3auth.io/",children:"Web3Auth Developer Dashboard"}),"."]}),(0,n.jsx)(r.td,{children:"Yes"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"web3AuthNetwork?"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"TORUS_LEGACY_NETWORK_TYPE"})}),(0,n.jsx)(r.td,{children:"Web3Auth Network to use for login. @defaultValue mainnet"}),(0,n.jsx)(r.td,{children:"No"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"enableLogging?"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"boolean"})}),(0,n.jsx)(r.td,{children:"Setting it to true will enable logs."}),(0,n.jsx)(r.td,{children:"No"})]})]})]})}),(0,n.jsx)(a.Z,{value:"interface",children:(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:"export interface Web3AuthOptions {\n  /**\n   * Client id for web3auth.\n   * You can obtain your client id from the web3auth developer dashboard.\n   * You can set any random string for this on localhost.\n   */\n  clientId: string;\n  /**\n   * Web3Auth Network to use for login\n   * @defaultValue mainnet\n   */\n  web3AuthNetwork?: TORUS_LEGACY_NETWORK_TYPE;\n\n  /**\n   * setting to true will enable logs\n   *\n   * @defaultValue false\n   */\n  enableLogging?: boolean;\n}\n"})})})]})}function S(e={}){const{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(b,{...e})}):b(e)}const k={title:"Initializing tKey JS SDK",sidebar_label:"Initialize",displayed_sidebar:"sdk",description:"Web3Auth Core Kit tKey SDK - Initialize  | Documentation - Web3Auth"},w=void 0,M={id:"sdk/core-kit/tkey/initialize",title:"Initializing tKey JS SDK",description:"Web3Auth Core Kit tKey SDK - Initialize  | Documentation - Web3Auth",source:"@site/docs/sdk/core-kit/tkey/initialize.mdx",sourceDirName:"sdk/core-kit/tkey",slug:"/sdk/core-kit/tkey/initialize",permalink:"/docs/sdk/core-kit/tkey/initialize",draft:!1,unlisted:!1,editUrl:"https://github.com/web3auth/web3auth-docs/edit/master/docs/sdk/core-kit/tkey/initialize.mdx",tags:[],version:"current",frontMatter:{title:"Initializing tKey JS SDK",sidebar_label:"Initialize",displayed_sidebar:"sdk",description:"Web3Auth Core Kit tKey SDK - Initialize  | Documentation - Web3Auth"},sidebar:"sdk",previous:{title:"Install",permalink:"/docs/sdk/core-kit/tkey/install"},next:{title:"Usage",permalink:"/docs/sdk/core-kit/tkey/usage"}},T={},A=[{value:"Configuring Service Provider",id:"configuring-service-provider",level:2},{value:"<code>@tkey/service-provider-sfa</code>",id:"tkeyservice-provider-sfa",level:4},{value:"<code>Web3AuthOptions</code>",id:"web3authoptions",level:4},{value:"Usage",id:"usage",level:4},{value:"Configuring Storage Layer",id:"configuring-storage-layer",level:2},{value:"<code>@tkey/storage-layer-torus</code>",id:"tkeystorage-layer-torus",level:4},{value:"Usage",id:"usage-1",level:4},{value:"Configuring Modules",id:"configuring-modules",level:2},{value:"Instantiating tKey",id:"instantiating-tkey",level:2},{value:"Import the <code>ThresholdKey</code> class from <code>@tkey/default</code>",id:"import-the-thresholdkey-class-from-tkeydefault",level:4},{value:"Assign the <code>ThresholdKey</code> class to a variable",id:"assign-the-thresholdkey-class-to-a-variable",level:4},{value:"Parameters",id:"parameters",level:3},{value:"Example",id:"example",level:3},{value:"Initializing Service Provider",id:"initializing-service-provider",level:2},{value:"Parameters",id:"parameters-1",level:3},{value:"<code>PrivateKeyProvider</code>",id:"privatekeyprovider",level:4},{value:"Example",id:"example-1",level:3}];function N(e){const r={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.p,{children:"After installation, the next step to using Web3Auth Core Kit tKey SDK is to Initialize the SDK. The Initialization takes a few steps, including\ninitiating the tKey SDK with the service provider and modules."}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"#configuring-service-provider",children:"Configuration of Service Provider"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"#configuring-storage-layer",children:"Configuration of Storage Layer"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"#configuring-modules",children:"Configuration of Modules"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"#instantiating-tkey",children:"Instantiation of tKey"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"#initializing-service-provider",children:"Initialisation of Service Provider"})}),"\n"]}),"\n",(0,n.jsx)(r.admonition,{type:"note",children:(0,n.jsx)(r.p,{children:"These are the most critical steps where you must pass on different parameters according to the need of your project."})}),"\n",(0,n.jsx)(r.h2,{id:"configuring-service-provider",children:"Configuring Service Provider"}),"\n",(0,n.jsxs)(r.p,{children:["Service Provider in ",(0,n.jsx)(r.code,{children:"tKey"})," is used for generating a ",(0,n.jsx)(r.a,{href:"/sdk/core-kit/tkey",children:(0,n.jsx)(r.strong,{children:"Share A"})}),", i.e. the private key share managed by a wallet service provider\nvia their authentication flows. This share in our ",(0,n.jsx)(r.a,{href:"/infrastructure/",children:"wallet infrastructure"})," refers to the social login aspect, where we associate a\nprivate key share with the user's social login, enabling the seamless login experience."]}),"\n",(0,n.jsx)(r.h4,{id:"tkeyservice-provider-sfa",children:(0,n.jsx)(r.a,{href:"https://npmjs.com/package/@tkey/service-provider-sfa",children:(0,n.jsx)(r.code,{children:"@tkey/service-provider-sfa"})})}),"\n",(0,n.jsxs)(r.p,{children:["In the Web3Auth Core Kit tKey SDK setup, you have to use the Web3Auth SFA Service Provider (",(0,n.jsx)(r.code,{children:"@tkey/service-provider-sfa"}),"), which is basically a\nwrapper around the ",(0,n.jsx)(r.a,{href:"/sdk/core-kit/sfa-web/",children:"Single Factor Auth Web"})," library implementing Web3Auth's Social Login feature as a service provider and\nenabling you to associate the social login of the user as one of the shares."]}),"\n",(0,n.jsx)(r.h4,{id:"web3authoptions",children:(0,n.jsx)(r.code,{children:"Web3AuthOptions"})}),"\n",(0,n.jsx)(S,{}),"\n",(0,n.jsx)(r.admonition,{type:"warning",children:(0,n.jsx)(r.p,{children:"Please note that the some of the parameters mentioned in the type description within the SFA Web SDK are not valid for the service provider. We have\nonly mentioned the ones that are applicable."})}),"\n",(0,n.jsx)(r.h4,{id:"usage",children:"Usage"}),"\n",(0,n.jsx)(d,{}),"\n",(0,n.jsx)(r.h2,{id:"configuring-storage-layer",children:"Configuring Storage Layer"}),"\n",(0,n.jsx)(r.p,{children:"The Storage Layer refers to the Metadata Storage, which is used to store the metadata information of the shares generated by the tKey SDK."}),"\n",(0,n.jsx)(r.h4,{id:"tkeystorage-layer-torus",children:(0,n.jsx)(r.a,{href:"https://www.npmjs.com/package/@tkey/storage-layer-torus",children:(0,n.jsx)(r.code,{children:"@tkey/storage-layer-torus"})})}),"\n",(0,n.jsx)(r.admonition,{type:"info",children:(0,n.jsxs)(r.p,{children:["By default, we recommend using the Web3Auth (Torus) Metadata Storage URL as your default storage. However, if you want to own the storage layer, you\ncan contact ",(0,n.jsx)(r.a,{href:"https://calendly.com/web3auth/meeting-with-web3auth",children:"our team"})," to help you set that up."]})}),"\n",(0,n.jsx)(x,{}),"\n",(0,n.jsx)(r.h4,{id:"usage-1",children:"Usage"}),"\n",(0,n.jsx)(g,{}),"\n",(0,n.jsx)(r.h2,{id:"configuring-modules",children:"Configuring Modules"}),"\n",(0,n.jsx)(c,{}),"\n",(0,n.jsx)(r.h2,{id:"instantiating-tkey",children:"Instantiating tKey"}),"\n",(0,n.jsxs)(r.h4,{id:"import-the-thresholdkey-class-from-tkeydefault",children:["Import the ",(0,n.jsx)(r.code,{children:"ThresholdKey"})," class from ",(0,n.jsx)(r.code,{children:"@tkey/default"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-javascript",children:'import ThresholdKey from "@tkey/core";\n'})}),"\n",(0,n.jsxs)(r.h4,{id:"assign-the-thresholdkey-class-to-a-variable",children:["Assign the ",(0,n.jsx)(r.code,{children:"ThresholdKey"})," class to a variable"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-javascript",children:"const tKey = new ThresholdKey(TKeyArgs);\n"})}),"\n",(0,n.jsxs)(r.p,{children:["This ThresholdKey constructor takes an object with ",(0,n.jsx)(r.code,{children:"TKeyArgs"})," as input."]}),"\n",(0,n.jsx)(r.h3,{id:"parameters",children:"Parameters"}),"\n",(0,n.jsx)(j,{}),"\n",(0,n.jsx)(r.h3,{id:"example",children:"Example"}),"\n",(0,n.jsx)(f,{}),"\n",(0,n.jsx)(r.h2,{id:"initializing-service-provider",children:"Initializing Service Provider"}),"\n",(0,n.jsxs)(r.p,{children:["You need to initialize your Service Provider within your constructor function to use it while logging your user in through the social accounts. This\nis done by calling the ",(0,n.jsx)(r.code,{children:"init()"})," function within the ",(0,n.jsx)(r.code,{children:"tKey"})," instance's ",(0,n.jsx)(r.code,{children:"serviceProvider"})," property."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-javascript",children:"tKeyInstance.serviceProvider.init(params: PrivateKeyProvider);\n"})}),"\n",(0,n.jsx)(r.h3,{id:"parameters-1",children:"Parameters"}),"\n",(0,n.jsx)(r.h4,{id:"privatekeyprovider",children:(0,n.jsx)(r.code,{children:"PrivateKeyProvider"})}),"\n",(0,n.jsxs)(r.p,{children:["The ",(0,n.jsx)(r.code,{children:"init"})," function in SFAServiceProvider needs a ",(0,n.jsx)(r.code,{children:"PrivateKeyProvider"})," as a parameter. It can accept any of the providers mentioned in our\n",(0,n.jsx)(r.a,{href:"/sdk/helper-sdks/providers/",children:"Providers"})," documentation"]}),"\n",(0,n.jsx)(r.h3,{id:"example-1",children:"Example"}),"\n",(0,n.jsx)(u,{})]})}function I(e={}){const{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(N,{...e})}):N(e)}},85162:(e,r,t)=>{t.d(r,{Z:()=>o});t(67294);var n=t(36905);const i={tabItem:"tabItem_Ymn6"};var a=t(85893);function o(e){let{children:r,hidden:t,className:o}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,n.Z)(i.tabItem,o),hidden:t,children:r})}},74866:(e,r,t)=>{t.d(r,{Z:()=>S});var n=t(67294),i=t(36905),a=t(12466),o=t(16550),s=t(20469),c=t(91980),l=t(67392),d=t(50012);function h(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:r}=e;return!!r&&"object"==typeof r&&"value"in r}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:r,children:t}=e;return(0,n.useMemo)((()=>{const e=r??function(e){return h(e).map((e=>{let{props:{value:r,label:t,attributes:n,default:i}}=e;return{value:r,label:t,attributes:n,default:i}}))}(t);return function(e){const r=(0,l.l)(e,((e,r)=>e.value===r.value));if(r.length>0)throw new Error(`Docusaurus error: Duplicate values "${r.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[r,t])}function p(e){let{value:r,tabValues:t}=e;return t.some((e=>e.value===r))}function x(e){let{queryString:r=!1,groupId:t}=e;const i=(0,o.k6)(),a=function(e){let{queryString:r=!1,groupId:t}=e;if("string"==typeof r)return r;if(!1===r)return null;if(!0===r&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:r,groupId:t});return[(0,c._X)(a),(0,n.useCallback)((e=>{if(!a)return;const r=new URLSearchParams(i.location.search);r.set(a,e),i.replace({...i.location,search:r.toString()})}),[a,i])]}function m(e){const{defaultValue:r,queryString:t=!1,groupId:i}=e,a=u(e),[o,c]=(0,n.useState)((()=>function(e){let{defaultValue:r,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(r){if(!p({value:r,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${r}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return r}const n=t.find((e=>e.default))??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:r,tabValues:a}))),[l,h]=x({queryString:t,groupId:i}),[m,g]=function(e){let{groupId:r}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(r),[i,a]=(0,d.Nk)(t);return[i,(0,n.useCallback)((e=>{t&&a.set(e)}),[t,a])]}({groupId:i}),y=(()=>{const e=l??m;return p({value:e,tabValues:a})?e:null})();(0,s.Z)((()=>{y&&c(y)}),[y]);return{selectedValue:o,selectValue:(0,n.useCallback)((e=>{if(!p({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);c(e),h(e),g(e)}),[h,g,a]),tabValues:a}}var g=t(72389);const y={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=t(85893);function v(e){let{className:r,block:t,selectedValue:n,selectValue:o,tabValues:s}=e;const c=[],{blockElementScrollPositionUntilNextRender:l}=(0,a.o5)(),d=e=>{const r=e.currentTarget,t=c.indexOf(r),i=s[t].value;i!==n&&(l(r),o(i))},h=e=>{let r=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=c.indexOf(e.currentTarget)+1;r=c[t]??c[0];break}case"ArrowLeft":{const t=c.indexOf(e.currentTarget)-1;r=c[t]??c[c.length-1];break}}r?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":t},r),children:s.map((e=>{let{value:r,label:t,attributes:a}=e;return(0,j.jsx)("li",{role:"tab",tabIndex:n===r?0:-1,"aria-selected":n===r,ref:e=>c.push(e),onKeyDown:h,onClick:d,...a,className:(0,i.Z)("tabs__item",y.tabItem,a?.className,{"tabs__item--active":n===r}),children:t??r},r)}))})}function f(e){let{lazy:r,children:t,selectedValue:i}=e;const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(r){const e=a.find((e=>e.props.value===i));return e?(0,n.cloneElement)(e,{className:"margin-top--md"}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:a.map(((e,r)=>(0,n.cloneElement)(e,{key:r,hidden:e.props.value!==i})))})}function b(e){const r=m(e);return(0,j.jsxs)("div",{className:(0,i.Z)("tabs-container",y.tabList),children:[(0,j.jsx)(v,{...e,...r}),(0,j.jsx)(f,{...e,...r})]})}function S(e){const r=(0,g.Z)();return(0,j.jsx)(b,{...e,children:h(e.children)},String(r))}},11151:(e,r,t)=>{t.d(r,{Z:()=>s,a:()=>o});var n=t(67294);const i={},a=n.createContext(i);function o(e){const r=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function s(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(a.Provider,{value:r},e.children)}}}]);