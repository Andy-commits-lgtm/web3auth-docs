"use strict";(self.webpackChunkweb3auth_docs=self.webpackChunkweb3auth_docs||[]).push([[81495],{36559:(e,n,t)=>{t.d(n,{ZP:()=>a});var s=t(85893),i=t(11151);function r(e){const n={code:"code",pre:"pre",...(0,i.a)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "ed25519PrivKey": "666523652352635....",\n  "privKey": "0ajjsdsd....",\n  "coreKitKey": "0ajjsdsd....",\n  "coreKitEd25519PrivKey": "666523652352635....",\n  "sessionId": "....",\n  "error": "....",\n  "userInfo": {\n    "aggregateVerifier": "w3a-google",\n    "email": "john@gmail.com",\n    "name": "John Dash",\n    "profileImage": "https://lh3.googleusercontent.com/a/Ajjjsdsmdjmnm...",\n    "typeOfLogin": "google",\n    "verifier": "torus",\n    "verifierId": "john@gmail.com",\n    "dappShare": "<24 words seed phrase>", // will be sent only incase of custom verifiers\n    "idToken": "<jwtToken issued by Web3Auth>",\n    "oAuthIdToken": "<jwtToken issued by OAuth Provider>", // will be sent only incase of custom verifiers\n    "oAuthAccessToken": "<accessToken issued by OAuth Provider>", // will be sent only incase of custom verifiers\n    "isMfaEnabled": true // returns true if user has enabled mfa\n  }\n}\n'})})}function a(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}},13258:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>h,toc:()=>c});var s=t(85893),i=t(11151),r=t(36559);const a={title:"Using dApp Share in PnP Unity SDK",sidebar_label:"dApp Share",displayed_sidebar:"sdk",description:"Web3Auth PnP Unity SDK - dApp Share | Documentation - Web3Auth"},o=void 0,h={id:"sdk/pnp/unity/dapp-share",title:"Using dApp Share in PnP Unity SDK",description:"Web3Auth PnP Unity SDK - dApp Share | Documentation - Web3Auth",source:"@site/docs/sdk/pnp/unity/dapp-share.mdx",sourceDirName:"sdk/pnp/unity",slug:"/sdk/pnp/unity/dapp-share",permalink:"/docs/sdk/pnp/unity/dapp-share",draft:!1,unlisted:!1,editUrl:"https://github.com/web3auth/web3auth-docs/edit/master/docs/sdk/pnp/unity/dapp-share.mdx",tags:[],version:"current",frontMatter:{title:"Using dApp Share in PnP Unity SDK",sidebar_label:"dApp Share",displayed_sidebar:"sdk",description:"Web3Auth PnP Unity SDK - dApp Share | Documentation - Web3Auth"},sidebar:"sdk",previous:{title:"Multi Factor Authentication",permalink:"/docs/sdk/pnp/unity/mfa"},next:{title:"Web3Auth PnP Unreal Engine SDK",permalink:"/docs/sdk/pnp/unreal/"}},d={},c=[{value:"Web3Auth Infrastructure at a glance",id:"web3auth-infrastructure-at-a-glance",level:2},{value:"The User Experience in Mobile/ Native OS Platforms",id:"the-user-experience-in-mobile-native-os-platforms",level:2},{value:"dApp Share in Unity",id:"dapp-share-in-unity",level:2},{value:"Sample Response in Unity",id:"sample-response-in-unity",level:3},{value:"Example",id:"example",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"web3auth-infrastructure-at-a-glance",children:"Web3Auth Infrastructure at a glance"}),"\n",(0,s.jsxs)(n.p,{children:["If you go through the ",(0,s.jsx)(n.a,{href:"/infrastructure/",children:"Web3Auth infrastructure"})," you'll notice that to enable the non custodiality of Web3Auth, we split the private\nkey into multiple parts, ie. ",(0,s.jsx)(n.code,{children:"shares"}),". These shares are a part of the off chain multisig, where multiple shares are stored in different places and can\nbe used to reconstruct the private key dynamically in the user's frontend application. For a glance at the structure of the shares, these are the\nfollowing:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:[(0,s.jsx)(n.code,{children:"ShareA"})," is stored on the user's device"]}),": Implementation is device and system specific. For example, on mobile devices, the share could be\nstored in device storage secured via biometrics."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:[(0,s.jsx)(n.code,{children:"ShareB"})," is managed by a login service via node operators"]}),": This share is further split amongst a network of nodes and retrieved via\nconventional authentication flows."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:[(0,s.jsx)(n.code,{children:"ShareC"})," is a recovery share"]}),": An extra share to be kept by the user, possibly kept on a separate device, downloaded or based on user input with\nenough entropy (eg. password, security questions, hardware device etc.)."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Similar to existing 2FA systems, a user needs to prove ownership of at least 2 out of 3 (2/3) shares, in order to retrieve their private key. This\ninitial setup provides several benefits."}),"\n",(0,s.jsx)(n.h2,{id:"the-user-experience-in-mobile-native-os-platforms",children:"The User Experience in Mobile/ Native OS Platforms"}),"\n",(0,s.jsx)(n.p,{children:"The user experience in gaming & native OS platforms is very different from the web platforms. This is because the user has to be redirected to a\nbrowser where they can login using their socials and then back to the app once they have been successfully authenticated. This user experience shifts\nthe context between two applications, whereas in the web platforms, the context remains within the browser only."}),"\n",(0,s.jsxs)(n.p,{children:["For the seamless login flow, we need to reconstruct the Shares ",(0,s.jsx)(n.code,{children:"A"})," and ",(0,s.jsx)(n.code,{children:"B"}),". ",(0,s.jsx)(n.code,{children:"Share A"})," is managed by the login service and is provided on successful\nauthentication. Whereas in web platforms, ",(0,s.jsx)(n.code,{children:"Share B"})," is stored in the browser context. We can still store it in the browser context for other devices,\nbut this has a few risks, like user accidently deleting browser data. This is a bigger problem while using native platform application, since the user\ndoesn't realise that the browser is being used to login within the app and clearing the browser data can cause their logins to fail. Hence, to tackle\nthis issue, Web3Auth issues a dApp Share, ie. a backup share that can be stored by the app developer directly within their application and used to\nreconstruct the private key after successful login by the user."]}),"\n",(0,s.jsx)(n.h2,{id:"dapp-share-in-unity",children:"dApp Share in Unity"}),"\n",(0,s.jsx)(n.p,{children:"Web3Auth issues a dApp Share, ie. a backup share that can be stored by the app developer directly within their application and used to reconstruct the\nprivate key after successful login by the user."}),"\n",(0,s.jsx)(n.p,{children:"After a successful login from a user, the user details are returned as a response to the application in mobile devices."}),"\n",(0,s.jsx)(n.h3,{id:"sample-response-in-unity",children:"Sample Response in Unity"}),"\n",(0,s.jsx)(r.ZP,{}),"\n",(0,s.jsxs)(n.p,{children:["If you notice, the reponses has a field called ",(0,s.jsx)(n.code,{children:"dappShare"})," which is a 24 words seed phrase that can be used to reconstruct the private key. This\n",(0,s.jsx)(n.code,{children:"dappShare"})," is a suplement to the ",(0,s.jsx)(n.code,{children:"Share A"})," and represents half of the private key. The application can store the dApp share in their own application\nlocal storage safely."]}),"\n",(0,s.jsx)(n.p,{children:"Now, while logging in, the user can use their social accounts to obtain one share, and the application provides the dApp Share, removing the need to\nstore the share in the browser context and enabling user to login seamlessly. This can be done by passing over the stored dApp share value in the\nlogin function."}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["One major thing to note here is that the ",(0,s.jsx)(n.code,{children:"dappShare"})," is only available for custom verifiers and not the standard web3auth verifiers. This is done to\nmake sure that an application only has access to the corresponding share to the private key of their application's user. Hence, to use dApp Share, one\nhas to use the custom authentication feature of Web3Auth. Also, the dApp Share is only returned to users who have enabled 2FA to their account."]})}),"\n",(0,s.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:'public void login()\n{\n    var selectedProvider = Provider.GOOGLE;\n    var options = new LoginParams()\n    {\n      loginProvider = selectedProvider,\n\t\tdappShare = "enter your dapp share"\n    };\n    web3Auth.login(options);\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>a});var s=t(67294);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);