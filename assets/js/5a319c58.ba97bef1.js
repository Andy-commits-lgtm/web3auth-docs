"use strict";(self.webpackChunkweb3auth_docs=self.webpackChunkweb3auth_docs||[]).push([[91126],{69518:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>l,frontMatter:()=>r,metadata:()=>d,toc:()=>s});var a=i(85893),o=i(11151);const r={title:"PnP No Modal SDK - v5 to v6",displayed_sidebar:"docs",description:"PnP No Modal SDK - v5 to v6 | Documentation - Web3Auth",sidebar_label:"v5 to v6"},t=void 0,d={id:"pnp/migration-guides/no-modal-v5-to-v6",title:"PnP No Modal SDK - v5 to v6",description:"PnP No Modal SDK - v5 to v6 | Documentation - Web3Auth",source:"@site/docs/pnp/migration-guides/no-modal-v5-to-v6.mdx",sourceDirName:"pnp/migration-guides",slug:"/pnp/migration-guides/no-modal-v5-to-v6",permalink:"/docs/pnp/migration-guides/no-modal-v5-to-v6",draft:!1,unlisted:!1,editUrl:"https://github.com/web3auth/web3auth-docs/edit/master/docs/pnp/migration-guides/no-modal-v5-to-v6.mdx",tags:[],version:"current",frontMatter:{title:"PnP No Modal SDK - v5 to v6",displayed_sidebar:"docs",description:"PnP No Modal SDK - v5 to v6 | Documentation - Web3Auth",sidebar_label:"v5 to v6"},sidebar:"docs",previous:{title:"v6 to v7",permalink:"/docs/pnp/migration-guides/no-modal-v6-to-v7"},next:{title:"PnP React Native - v3 to v4",permalink:"/docs/pnp/migration-guides/rn-v3-to-v4"}},c={},s=[{value:"General",id:"general",level:2},{value:"<code>web3auth.connected</code> is introduced",id:"web3authconnected-is-introduced",level:3},{value:"Manage session using <code>web3auth.connected</code> instead of <code>web3auth.provider</code>",id:"manage-session-using-web3authconnected-instead-of-web3authprovider",level:4},{value:"<code>provider</code> is now always available",id:"provider-is-now-always-available",level:3},{value:"<code>rpcTarget</code> and <code>chainId</code> is now a mandatory parameter",id:"rpctarget-and-chainid-is-now-a-mandatory-parameter",level:3},{value:"<code>privateKeyProvider</code> is introduced",id:"privatekeyprovider-is-introduced",level:3},{value:"<code>privateKeyProvider</code> is now a mandatory parameter to be passed into the <code>OpenLoginAdapter</code>",id:"privatekeyprovider-is-now-a-mandatory-parameter-to-be-passed-into-the-openloginadapter",level:4},{value:"For EVM chains",id:"for-evm-chains",level:4},{value:"For Solana",id:"for-solana",level:4},{value:"For all other chains",id:"for-all-other-chains",level:4}];function h(e){const n={code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"general",children:"General"}),"\n",(0,a.jsxs)(n.h3,{id:"web3authconnected-is-introduced",children:[(0,a.jsx)(n.code,{children:"web3auth.connected"})," is introduced"]}),"\n",(0,a.jsxs)(n.h4,{id:"manage-session-using-web3authconnected-instead-of-web3authprovider",children:["Manage session using ",(0,a.jsx)(n.code,{children:"web3auth.connected"})," instead of ",(0,a.jsx)(n.code,{children:"web3auth.provider"})]}),"\n",(0,a.jsxs)(n.p,{children:["With V6, users can manage their session using ",(0,a.jsx)(n.code,{children:"web3auth.connected"})," instead of ",(0,a.jsx)(n.code,{children:"web3auth.provider"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"// With V6\n// highlight-start\nif (web3auth.connected) {\n  setLoggedIn(true);\n}\n// highlight-end\n"})}),"\n",(0,a.jsxs)(n.h3,{id:"provider-is-now-always-available",children:[(0,a.jsx)(n.code,{children:"provider"})," is now always available"]}),"\n",(0,a.jsxs)(n.p,{children:["In V5, we used to add a check for setting the ",(0,a.jsx)(n.code,{children:"provider"})," only if the ",(0,a.jsx)(n.code,{children:"web3auth.provider"})," was present. But now with V6 we always have a provider\navailable even if the user is not logged in."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"// With V5\nif (web3auth.provider) {\n  setProvider(web3auth.provider);\n}\n// With V6\n// highlight-next-line\nsetProvider(web3auth.provider); // before the connect() or connectTo(), provider is available.\n"})}),"\n",(0,a.jsxs)(n.h3,{id:"rpctarget-and-chainid-is-now-a-mandatory-parameter",children:[(0,a.jsx)(n.code,{children:"rpcTarget"})," and ",(0,a.jsx)(n.code,{children:"chainId"})," is now a mandatory parameter"]}),"\n",(0,a.jsxs)(n.p,{children:["Previously, the Web Modal SDK required ",(0,a.jsx)(n.code,{children:"chainConfig"})," as a parameter which had ",(0,a.jsx)(n.code,{children:"rpcTarget"})," & ",(0,a.jsx)(n.code,{children:"chainId"})," as the optional parameter. But with V6, it's\nmandatory to add ",(0,a.jsx)(n.code,{children:"rpcTarget"})," & ",(0,a.jsx)(n.code,{children:"chainId"})," in the ",(0,a.jsx)(n.code,{children:"chainConfig"})," object."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'const web3auth = new Web3Auth({\n  clientId,\n  chainConfig: {\n    chainNamespace: CHAIN_NAMESPACES.EIP155,\n    // highlight-start\n    chainId: "0x1",\n    rpcTarget: "https://rpc.ankr.com/eth", // This is the public RPC we have added, please pass on your own custom endpoint while creating an app\n    // highlight-end\n  },\n  web3AuthNetwork: "sapphire_mainnet",\n});\n'})}),"\n",(0,a.jsxs)(n.h3,{id:"privatekeyprovider-is-introduced",children:[(0,a.jsx)(n.code,{children:"privateKeyProvider"})," is introduced"]}),"\n",(0,a.jsxs)(n.h4,{id:"privatekeyprovider-is-now-a-mandatory-parameter-to-be-passed-into-the-openloginadapter",children:[(0,a.jsx)(n.code,{children:"privateKeyProvider"})," is now a mandatory parameter to be passed into the ",(0,a.jsx)(n.code,{children:"OpenLoginAdapter"})]}),"\n",(0,a.jsxs)(n.p,{children:["With V6, we have added a new parameter ",(0,a.jsx)(n.code,{children:"privateKeyProvider"})," which is mandatory to be passed into the ",(0,a.jsx)(n.code,{children:"OpenLoginAdapter"}),"."]}),"\n",(0,a.jsx)(n.h4,{id:"for-evm-chains",children:"For EVM chains"}),"\n",(0,a.jsxs)(n.p,{children:["For EVM chains use the ",(0,a.jsx)(n.code,{children:"EthereumPrivateKeyProvider"})," from the ",(0,a.jsx)(n.code,{children:"@web3auth/ethereum-provider"}),"package. Please note\nthat",(0,a.jsx)(n.code,{children:"EthereumPrivateKeyProvider"}),"requires",(0,a.jsx)(n.code,{children:"chainConfig"}),"as the ",(0,a.jsx)(n.code,{children:"config"})," parameter at the time of initialization."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'import { EthereumPrivateKeyProvider } from "@web3auth/ethereum-provider";\n\nconst chainConfig = {\n  chainNamespace: CHAIN_NAMESPACES.EIP155,\n  chainId: "0x1",\n  rpcTarget: "https://rpc.ankr.com/eth",\n  displayName: "Ethereum Mainnet",\n  blockExplorer: "https://etherscan.io",\n  ticker: "ETH",\n  tickerName: "Ethereum",\n};\n// highlight-next-line\nconst privateKeyProvider = new EthereumPrivateKeyProvider({ config: { chainConfig } });\nconst openloginAdapter = new OpenloginAdapter({\n  // highlight-next-line\n  privateKeyProvider,\n});\nweb3authInstance.configureAdapter(openloginAdapter);\n'})}),"\n",(0,a.jsx)(n.h4,{id:"for-solana",children:"For Solana"}),"\n",(0,a.jsxs)(n.p,{children:["For Solana use the ",(0,a.jsx)(n.code,{children:"SolanaPrivateKeyProvider"})," from the ",(0,a.jsx)(n.code,{children:"@web3auth/solana-provider"}),"package. Please note that ",(0,a.jsx)(n.code,{children:"SolanaPrivateKeyProvider"})," requires\n",(0,a.jsx)(n.code,{children:"chainConfig"})," as the ",(0,a.jsx)(n.code,{children:"config"})," parameter at the time of initialization."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'import { SolanaPrivateKeyProvider } from "@web3auth/solana-provider";\n\nconst chainConfig = {\n  chainNamespace: CHAIN_NAMESPACES.SOLANA,\n  chainId: "0x1", // Please use 0x1 for Mainnet, 0x2 for Testnet, 0x3 for Devnet\n  rpcTarget: "https://rpc.ankr.com/solana",\n  displayName: "Solana Mainnet",\n  blockExplorer: "https://explorer.solana.com",\n  ticker: "SOL",\n  tickerName: "Solana",\n};\n// highlight-next-line\nconst privateKeyProvider = new SolanaPrivateKeyProvider({ config: { chainConfig } });\nconst openloginAdapter = new OpenloginAdapter({\n  // highlight-next-line\n  privateKeyProvider,\n});\nweb3auth.configureAdapter(openloginAdapter);\n'})}),"\n",(0,a.jsx)(n.h4,{id:"for-all-other-chains",children:"For all other chains"}),"\n",(0,a.jsxs)(n.p,{children:["For all Non-EVM & Non-Solana chains use the ",(0,a.jsx)(n.code,{children:"CommonPrivateKeyProvider"})," from the ",(0,a.jsx)(n.code,{children:"@web3auth/base-provider"}),"package. Please note that\n",(0,a.jsx)(n.code,{children:"CommonPrivateKeyProvider"})," requires ",(0,a.jsx)(n.code,{children:"chainConfig"})," as the ",(0,a.jsx)(n.code,{children:"config"})," parameter at the time of initialization."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'import { CommonPrivateKeyProvider } from "@web3auth/base-provider";\n\nconst chainConfig = {\n  chainNamespace: CHAIN_NAMESPACES.SOLANA,\n  chainId: "0x1", // Please use 0x1 for Mainnet, 0x2 for Testnet, 0x3 for Devnet\n  rpcTarget: "https://rpc.ankr.com/solana",\n  displayName: "Solana Mainnet",\n  blockExplorer: "https://explorer.solana.com",\n  ticker: "SOL",\n  tickerName: "Solana",\n};\n// highlight-next-line\nconst privateKeyProvider = new CommonPrivateKeyProvider({ config: { chainConfig } });\n\nconst openloginAdapter = new OpenloginAdapter({\n  // highlight-next-line\n  privateKeyProvider,\n});\nweb3authInstance.configureAdapter(openloginAdapter);\n'})})]})}function l(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},11151:(e,n,i)=>{i.d(n,{Z:()=>d,a:()=>t});var a=i(67294);const o={},r=a.createContext(o);function t(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);