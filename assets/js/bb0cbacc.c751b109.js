"use strict";(self.webpackChunkweb3auth_docs=self.webpackChunkweb3auth_docs||[]).push([[73778],{83383:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var r=n(85893),s=n(11151);const i={title:"Usage of MPC Core Kit Web SDK",sidebar_label:"Usage",displayed_sidebar:"sdk",description:"Web3Auth MPC Core Kit Web SDK - Usage | Documentation - Web3Auth"},o=void 0,c={id:"sdk/core-kit/mpc-core-kit/usage",title:"Usage of MPC Core Kit Web SDK",description:"Web3Auth MPC Core Kit Web SDK - Usage | Documentation - Web3Auth",source:"@site/docs/sdk/core-kit/mpc-core-kit/usage.mdx",sourceDirName:"sdk/core-kit/mpc-core-kit",slug:"/sdk/core-kit/mpc-core-kit/usage",permalink:"/docs/sdk/core-kit/mpc-core-kit/usage",draft:!1,unlisted:!1,editUrl:"https://github.com/web3auth/web3auth-docs/edit/master/docs/sdk/core-kit/mpc-core-kit/usage.mdx",tags:[],version:"current",frontMatter:{title:"Usage of MPC Core Kit Web SDK",sidebar_label:"Usage",displayed_sidebar:"sdk",description:"Web3Auth MPC Core Kit Web SDK - Usage | Documentation - Web3Auth"},sidebar:"sdk",previous:{title:"Authentication",permalink:"/docs/sdk/core-kit/mpc-core-kit/authentication"},next:{title:"Web3Auth tKey JS SDK",permalink:"/docs/sdk/core-kit/tkey/"}},a={},l=[{value:"Enable MFA",id:"enable-mfa",level:2},{value:"<code>enableMFA(enableMFAParams: EnableMFAParams): Promise&lt;string&gt;;</code>",id:"enablemfaenablemfaparams-enablemfaparams-promisestring",level:4},{value:"Parameters",id:"parameters",level:3},{value:"Usage",id:"usage",level:4},{value:"Input Factor Key",id:"input-factor-key",level:2},{value:"<code>inputFactorKey(factorKey: BN): Promise&lt;void&gt;;</code>",id:"inputfactorkeyfactorkey-bn-promisevoid",level:4},{value:"Usage",id:"usage-1",level:4},{value:"Get Current Factor Key",id:"get-current-factor-key",level:2},{value:"<code>getCurrentFactorKey(): IFactorKey;</code>",id:"getcurrentfactorkey-ifactorkey",level:4},{value:"Usage",id:"usage-2",level:4},{value:"Create Factor",id:"create-factor",level:2},{value:"Parameters",id:"parameters-1",level:3},{value:"Usage",id:"usage-3",level:4},{value:"Delete Factor",id:"delete-factor",level:2},{value:"<code>deleteFactor(factorPub: TkeyPoint): Promise&lt;void&gt;;</code>",id:"deletefactorfactorpub-tkeypoint-promisevoid",level:4},{value:"Usage",id:"usage-4",level:4},{value:"Get User Info",id:"get-user-info",level:2},{value:"<code>getUserInfo(): UserInfo;</code>",id:"getuserinfo-userinfo",level:4},{value:"Returns",id:"returns",level:4},{value:"Usage",id:"usage-5",level:4},{value:"Get Key Details",id:"get-key-details",level:2},{value:"<code>getKeyDetails(): MPCKeyDetails;</code>",id:"getkeydetails-mpckeydetails",level:4},{value:"Returns",id:"returns-1",level:4},{value:"Usage",id:"usage-6",level:4},{value:"Commit Changes",id:"commit-changes",level:2},{value:"<code>commitChanges(): Promise&lt;void&gt;;</code>",id:"commitchanges-promisevoid",level:4},{value:"Usage",id:"usage-7",level:4},{value:"Web Storage Helper Functions",id:"web-storage-helper-functions",level:2},{value:"Store Web Browser Factor",id:"store-web-browser-factor",level:3},{value:"<code>storeWebBrowserFactor(factorKey: BN, mpcCoreKit: ICoreKit, storageKey: &quot;local&quot; | &quot;session&quot; = &quot;local&quot;): Promise&lt;void&gt;</code>",id:"storewebbrowserfactorfactorkey-bn-mpccorekit-icorekit-storagekey-local--session--local-promisevoid",level:4},{value:"Usage",id:"usage-8",level:4},{value:"Get Web Browser Factor",id:"get-web-browser-factor",level:3},{value:"<code>getWebBrowserFactor(mpcCoreKit: ICoreKit, storageKey: &quot;local&quot; | &quot;session&quot; = &quot;local&quot;)</code>",id:"getwebbrowserfactormpccorekit-icorekit-storagekey-local--session--local",level:4},{value:"Usage",id:"usage-9",level:4},{value:"Security Question",id:"security-question",level:2},{value:"Set Security Question",id:"set-security-question",level:3},{value:"<code>setSecurityQuestion(params: setSecurityQuestionParams): Promise&lt;string&gt;;</code>",id:"setsecurityquestionparams-setsecurityquestionparams-promisestring",level:4},{value:"Parameters",id:"parameters-2",level:4},{value:"Usage",id:"usage-10",level:4},{value:"Change Security Question",id:"change-security-question",level:3},{value:"<code>changeSecurityQuestion(params: changeSecurityQuestionParams): Promise&lt;void&gt;;</code>",id:"changesecurityquestionparams-changesecurityquestionparams-promisevoid",level:4},{value:"Parameters",id:"parameters-3",level:4},{value:"Usage",id:"usage-11",level:4},{value:"Delete Security Question Share",id:"delete-security-question-share",level:3},{value:"<code>deleteSecurityQuestion(mpcCoreKit: Web3AuthMPCCoreKit, deleteFactorKey?: boolean): Promise&lt;void&gt;;</code>",id:"deletesecurityquestionmpccorekit-web3authmpccorekit-deletefactorkey-boolean-promisevoid",level:4},{value:"Usage",id:"usage-12",level:4},{value:"Get Factor Key from Security Question",id:"get-factor-key-from-security-question",level:3},{value:"<code>recoverFactor(mpcCoreKit: Web3AuthMPCCoreKit, answer: string): Promise&lt;string&gt;</code>",id:"recoverfactormpccorekit-web3authmpccorekit-answer-string-promisestring",level:4},{value:"Usage",id:"usage-13",level:4},{value:"Get Security Question for User&#39;s Account",id:"get-security-question-for-users-account",level:3},{value:"<code>getQuestion(mpcCoreKit: Web3AuthMPCCoreKit): string;</code>",id:"getquestionmpccorekit-web3authmpccorekit-string",level:4},{value:"Usage",id:"usage-14",level:4},{value:"Mnemonic Conversations",id:"mnemonic-conversations",level:2},{value:"Mnemonic to Key",id:"mnemonic-to-key",level:3},{value:"<code>mnemonicToKey(shareMnemonic: string): string</code>",id:"mnemonictokeysharemnemonic-string-string",level:4},{value:"Key to Mnemonic",id:"key-to-mnemonic",level:3},{value:"<code>keyToMnemonic(shareHex: string): string</code>",id:"keytomnemonicsharehex-string-string",level:4},{value:"Usage",id:"usage-15",level:4}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["Once you've installed and successfully initialized ",(0,r.jsx)(t.code,{children:"Web3AuthMPCCoreKit"}),", you can use it to authenticate your users. Further, you can use the native\nprovider given by Web3Auth to sign transactions and interact with the blockchain."]}),"\n",(0,r.jsxs)(t.p,{children:["Natively, the instance of ",(0,r.jsx)(t.code,{children:"Web3AuthMPCCoreKit"})," (referred to as ",(0,r.jsx)(t.code,{children:"coreKitInstance"})," in our examples) returns the following functions:"]}),"\n",(0,r.jsx)(t.p,{children:"Authentication Functions:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"loginWithOAuth()"})," - Logs in the user in OAuth Intrisic Flow."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"loginWithJWT()"})," - Logs in the user with a JWT based ID Token."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"logout()"})," - Logs out the User."]}),"\n"]}),"\n",(0,r.jsx)(t.admonition,{type:"tip",children:(0,r.jsxs)(t.p,{children:["Checkout the ",(0,r.jsx)(t.a,{href:"/sdk/core-kit/mpc-core-kit/authentication",children:"Authentication section"})," of the SDK Reference to learn more about these functions."]})}),"\n",(0,r.jsx)(t.p,{children:"Handling Factors:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"enableMFA()"})," - Enable MFA for the user. Deletes the Hashed Factor and generates a new Factor Key."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"inputFactorKey()"})," - Inputs the Factor Key to recover the User's account."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"getCurrentFactorKey()"})," - Returns the current Factor Key of the User's account, present in the state of the SDK."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"createFactor()"})," - Creates a new Factor for the User's account."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"deleteFactor()"})," - Deletes a Factor from the User's account."]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"User Functions:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"getUserInfo()"})," - Returns the User's information received from the ID Token."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"getKeyDetails()"})," - Returns the User's Key Details."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"commitChanges()"})," - Commits the changes made to the User's account while in manual sync mode."]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Additional Helper Functions:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Web Storage","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"storeWebBrowserFactor()"})," - Stores a Factor in the Web Local/ Session Storage."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"getWebBrowserFactor()"})," - Returns the Factor from the Web Local/ Session Storage."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["Security Questions","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"setSecurityQuestion()"})," - Sets the Security Question Factor for the User's account."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"changeSecurityQuestion()"})," - Changes the Security Question for the User's account."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"deleteSecurityQuestion()"})," - Deletes the Security Question for the User's account."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"recoverFactor()"})," - Recovers the Security Question Factor for the User's account using the given password."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"getQuestion()"})," - Returns the Security Question for the User's account."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["Conversion from Mnemonic","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"mnemonicToKey()"})," - Converts a Mnemonic to a BN."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"keyToMnemonic()"})," - Converts a hex string to a Mnemonic."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"enable-mfa",children:"Enable MFA"}),"\n",(0,r.jsx)(t.h4,{id:"enablemfaenablemfaparams-enablemfaparams-promisestring",children:(0,r.jsx)(t.code,{children:"enableMFA(enableMFAParams: EnableMFAParams): Promise<string>;"})}),"\n",(0,r.jsx)(t.p,{children:"Enables MFA for the user. It creates a device factor and stores it in the local storage. It also creates a backup factor and returns it to the user.\nYou can also pass a factor key that can be used for the backup factor. If you don't pass a factor key, a new factor key will be generated."}),"\n",(0,r.jsx)(t.p,{children:"Most importantly, this function deletes the Hashed Factor Key enabling a non-custodial flow."}),"\n",(0,r.jsx)(t.h3,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:'export interface EnableMFAParams {\n  /**\n   * A BN used for encrypting your Device/ Recovery TSS Key Share. You can generate it using `generateFactorKey()` function or use an existing one.\n   */\n  factorKey?: BN;\n  /**\n   * Setting the Description of Share - Security Questions, Device Share, Seed Phrase, Password Share, Social Share, Other. Default is Other.\n   */\n  shareDescription?: FactorKeyTypeShareDescription;\n  /**\n   * Additional metadata information you want to be stored alongside this factor for easy identification.\n   */\n  additionalMetadata?: Record<string, string>;\n}\nexport enum FactorKeyTypeShareDescription {\n  HashedShare = "hashedShare",\n  SecurityQuestions = "tssSecurityQuestions",\n  DeviceShare = "deviceShare",\n  SeedPhrase = "seedPhrase",\n  PasswordShare = "passwordShare",\n  SocialShare = "socialShare",\n  Other = "Other",\n}\n'})}),"\n",(0,r.jsx)(t.h4,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'const factorKey = await coreKitInstance.enableMFA({});\nconst factorKeyMnemonic = keyToMnemonic(factorKey);\n\nuiConsole("MFA enabled, device factor stored in local store, deleted hashed cloud key, your backup factor key: ", factorKeyMnemonic);\n'})}),"\n",(0,r.jsx)(t.h2,{id:"input-factor-key",children:"Input Factor Key"}),"\n",(0,r.jsx)(t.h4,{id:"inputfactorkeyfactorkey-bn-promisevoid",children:(0,r.jsx)(t.code,{children:"inputFactorKey(factorKey: BN): Promise<void>;"})}),"\n",(0,r.jsx)(t.p,{children:"Inputs the Factor Key into the SDK. This function is used to recover the User's account using the Factor Key. If the factor key is correct, the SDK\ninitializes the User's account and logs them in."}),"\n",(0,r.jsx)(t.p,{children:"If you want to change the factor key in the current state of the SDK, you can use this function."}),"\n",(0,r.jsx)(t.h4,{id:"usage-1",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'const factorKey = new BN(backupFactorKey, "hex");\nawait coreKitInstance.inputFactorKey(factorKey);\n'})}),"\n",(0,r.jsx)(t.h2,{id:"get-current-factor-key",children:"Get Current Factor Key"}),"\n",(0,r.jsx)(t.h4,{id:"getcurrentfactorkey-ifactorkey",children:(0,r.jsx)(t.code,{children:"getCurrentFactorKey(): IFactorKey;"})}),"\n",(0,r.jsx)(t.p,{children:"Returns the current factor key in usage within the state of the SDK."}),"\n",(0,r.jsx)(t.h4,{id:"usage-2",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"const factorKey = coreKitInstance.getCurrentFactorKey();\n"})}),"\n",(0,r.jsx)(t.h2,{id:"create-factor",children:"Create Factor"}),"\n",(0,r.jsx)(t.p,{children:"A low-level function, helping you to create a backup factor key based on the type of TSS Share you want to create. You can pass your own factor key or\nlet the SDK generate one for you."}),"\n",(0,r.jsx)(t.h3,{id:"parameters-1",children:"Parameters"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'export interface CreateFactorParams extends EnableMFAParams {\n  /**\n   * Setting the Type of Share - Device or Recovery.\n   **/\n  shareType: TssShareType;\n}\n\nexport enum TssShareType {\n  DEVICE = 2,\n  RECOVERY = 3,\n}\n\nexport interface EnableMFAParams {\n  /**\n   * A BN used for encrypting your Device/ Recovery TSS Key Share. You can generate it using `generateFactorKey()` function or use an existing one.\n   */\n  factorKey?: BN;\n  /**\n   * Setting the Description of Share - Security Questions, Device Share, Seed Phrase, Password Share, Social Share, Other. Default is Other.\n   */\n  shareDescription?: FactorKeyTypeShareDescription;\n  /**\n   * Additional metadata information you want to be stored alongside this factor for easy identification.\n   */\n  additionalMetadata?: Record<string, string>;\n}\n\nexport enum FactorKeyTypeShareDescription {\n  HashedShare = "hashedShare",\n  SecurityQuestions = "tssSecurityQuestions",\n  DeviceShare = "deviceShare",\n  SeedPhrase = "seedPhrase",\n  PasswordShare = "passwordShare",\n  SocialShare = "socialShare",\n  Other = "Other",\n}\n'})}),"\n",(0,r.jsx)(t.h4,{id:"usage-3",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"const factorKey = generateFactorKey();\nawait coreKitInstance.createFactor({\n  shareType: exportTssShareType,\n  factorKey: factorKey.private,\n});\n"})}),"\n",(0,r.jsx)(t.h2,{id:"delete-factor",children:"Delete Factor"}),"\n",(0,r.jsx)(t.h4,{id:"deletefactorfactorpub-tkeypoint-promisevoid",children:(0,r.jsx)(t.code,{children:"deleteFactor(factorPub: TkeyPoint): Promise<void>;"})}),"\n",(0,r.jsxs)(t.p,{children:["Deletes the Factor, respective to the factorPub provided for the User's account. You can get the factor Pubs by using the ",(0,r.jsx)(t.code,{children:"getKeyDetails()"})," function."]}),"\n",(0,r.jsxs)(t.p,{children:["It will throw an error if you try to delete the factor that is currently active within the state of the SDK. Use the ",(0,r.jsx)(t.code,{children:"inputFactorKey()"})," function to\nchange the factor key in the current state of the SDK to be able to delete that factor."]}),"\n",(0,r.jsx)(t.h4,{id:"usage-4",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'const pubBuffer = Buffer.from(factorPubToDelete, "hex");\nconst pub = Point.fromBufferSEC1(pubBuffer);\nawait coreKitInstance.deleteFactor(pub.toTkeyPoint());\n'})}),"\n",(0,r.jsx)(t.h2,{id:"get-user-info",children:"Get User Info"}),"\n",(0,r.jsx)(t.h4,{id:"getuserinfo-userinfo",children:(0,r.jsx)(t.code,{children:"getUserInfo(): UserInfo;"})}),"\n",(0,r.jsx)(t.p,{children:"Gives you the User's information received from the ID Token."}),"\n",(0,r.jsx)(t.h4,{id:"returns",children:"Returns"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"export type UserInfo = TorusVerifierResponse & LoginWindowResponse;\nexport interface TorusVerifierResponse {\n  email: string;\n  name: string;\n  profileImage: string;\n  aggregateVerifier?: string;\n  verifier: string;\n  verifierId: string;\n  typeOfLogin: LOGIN_TYPE;\n  ref?: string;\n  registerOnly?: boolean;\n  extraVerifierParams?: WebAuthnExtraParams;\n}\nexport interface LoginWindowResponse {\n  accessToken: string;\n  idToken?: string;\n  ref?: string;\n  extraParams?: string;\n  extraParamsPassed?: string;\n  state: TorusGenericObject;\n}\n"})}),"\n",(0,r.jsx)(t.h4,{id:"usage-5",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"const user = coreKitInstance?.getUserInfo();\n"})}),"\n",(0,r.jsx)(t.h2,{id:"get-key-details",children:"Get Key Details"}),"\n",(0,r.jsx)(t.h4,{id:"getkeydetails-mpckeydetails",children:(0,r.jsx)(t.code,{children:"getKeyDetails(): MPCKeyDetails;"})}),"\n",(0,r.jsx)(t.p,{children:"Gives you the details of the keys and factors held by the User's account."}),"\n",(0,r.jsx)(t.h4,{id:"returns-1",children:"Returns"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"export type MPCKeyDetails = {\n  metadataPubKey: TkeyPoint;\n  threshold: number;\n  requiredFactors: number;\n  totalFactors: number;\n  shareDescriptions: ShareDescriptionMap;\n  tssPubKey?: TkeyPoint;\n};\nexport type ShareDescriptionMap = {\n  [shareIndexStr: string]: string[];\n};\n"})}),"\n",(0,r.jsx)(t.h4,{id:"usage-6",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"const keyDetails = coreKitInstance?.getKeyDetails();\n"})}),"\n",(0,r.jsx)(t.h2,{id:"commit-changes",children:"Commit Changes"}),"\n",(0,r.jsx)(t.h4,{id:"commitchanges-promisevoid",children:(0,r.jsx)(t.code,{children:"commitChanges(): Promise<void>;"})}),"\n",(0,r.jsx)(t.p,{children:"Syncs the local metadata with the web3auth metadata server. This function is only to be used while in manual sync mode."}),"\n",(0,r.jsx)(t.h4,{id:"usage-7",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"await coreKitInstance?.commitChanges();\n"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Web Storage","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"storeWebBrowserFactor()"})," - Stores a Factor in the Web Local/ Session Storage."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"getWebBrowserFactor()"})," - Returns the Factor from the Web Local/ Session Storage."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["Security Questions","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"setSecurityQuestion()"})," - Sets the Security Question Factor for the User's account."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"changeSecurityQuestion()"})," - Changes the Security Question for the User's account."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"deleteSecurityQuestion()"})," - Deletes the Security Question for the User's account."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"recoverFactor()"})," - Recovers the Security Question Factor for the User's account using the given password."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"getQuestion()"})," - Returns the Security Question for the User's account."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["Conversion from Mnemonic","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"mnemonicToKey()"})," - Converts a Mnemonic to a BN."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"keyToMnemonic()"})," - Converts a hex string to a Mnemonic."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"web-storage-helper-functions",children:"Web Storage Helper Functions"}),"\n",(0,r.jsx)(t.h3,{id:"store-web-browser-factor",children:"Store Web Browser Factor"}),"\n",(0,r.jsx)(t.h4,{id:"storewebbrowserfactorfactorkey-bn-mpccorekit-icorekit-storagekey-local--session--local-promisevoid",children:(0,r.jsx)(t.code,{children:'storeWebBrowserFactor(factorKey: BN, mpcCoreKit: ICoreKit, storageKey: "local" | "session" = "local"): Promise<void>'})}),"\n",(0,r.jsx)(t.p,{children:"Helps you store a web browser factor in the local/ session storage."}),"\n",(0,r.jsx)(t.h4,{id:"usage-8",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'import bowser from "bowser";\nimport { storeWebBrowserFactor } from "@web3auth/mpc-core-kit";\n\nconst browserInfo = bowser.parse(navigator.userAgent);\nconst browserName = `${browserInfo.browser.name}`;\nconst browserData = {\n  browserName,\n  browserVersion: browserInfo.browser.version,\n  deviceName: browserInfo.os.name,\n};\nconst deviceFactorKey = new BN(await coreKitInstance.createFactor({ shareType: TssShareType.DEVICE, additionalMetadata: browserData }), "hex");\nstoreWebBrowserFactor(deviceFactorKey, coreKitInstance);\n'})}),"\n",(0,r.jsx)(t.h3,{id:"get-web-browser-factor",children:"Get Web Browser Factor"}),"\n",(0,r.jsx)(t.h4,{id:"getwebbrowserfactormpccorekit-icorekit-storagekey-local--session--local",children:(0,r.jsx)(t.code,{children:'getWebBrowserFactor(mpcCoreKit: ICoreKit, storageKey: "local" | "session" = "local")'})}),"\n",(0,r.jsx)(t.p,{children:"Get the web browser factor from the local/ session storage."}),"\n",(0,r.jsx)(t.h4,{id:"usage-9",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'import { getWebBrowserFactor } from "@web3auth/mpc-core-kit";\n\nconst factorKey = await getWebBrowserFactor(coreKitInstance!);\n'})}),"\n",(0,r.jsx)(t.h2,{id:"security-question",children:"Security Question"}),"\n",(0,r.jsx)(t.h3,{id:"set-security-question",children:"Set Security Question"}),"\n",(0,r.jsx)(t.h4,{id:"setsecurityquestionparams-setsecurityquestionparams-promisestring",children:(0,r.jsx)(t.code,{children:"setSecurityQuestion(params: setSecurityQuestionParams): Promise<string>;"})}),"\n",(0,r.jsx)(t.h4,{id:"parameters-2",children:"Parameters"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"export interface setSecurityQuestionParams {\n  mpcCoreKit: Web3AuthMPCCoreKit;\n  question: string;\n  answer: string;\n  shareType?: TssShareType;\n  description?: Record<string, string>;\n  tssIndex?: TssShareType;\n}\nexport enum TssShareType {\n  DEVICE = 2,\n  RECOVERY = 3,\n}\n"})}),"\n",(0,r.jsx)(t.p,{children:"Creates a security question share for your to easily recover user's account."}),"\n",(0,r.jsx)(t.h4,{id:"usage-10",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'import { TssSecurityQuestion } from "@web3auth/mpc-core-kit";\n\nconst securityQuestion: TssSecurityQuestion = new TssSecurityQuestion();\n\nawait securityQuestion.setSecurityQuestion({ mpcCoreKit: coreKitInstance, question, answer, shareType: TssShareType.RECOVERY });\n'})}),"\n",(0,r.jsx)(t.h3,{id:"change-security-question",children:"Change Security Question"}),"\n",(0,r.jsx)(t.h4,{id:"changesecurityquestionparams-changesecurityquestionparams-promisevoid",children:(0,r.jsx)(t.code,{children:"changeSecurityQuestion(params: changeSecurityQuestionParams): Promise<void>;"})}),"\n",(0,r.jsx)(t.h4,{id:"parameters-3",children:"Parameters"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"export interface changeSecurityQuestionParams {\n  mpcCoreKit: Web3AuthMPCCoreKit;\n  newQuestion: string;\n  newAnswer: string;\n  answer: string;\n}\n"})}),"\n",(0,r.jsx)(t.p,{children:"Changes the Security Question Share of the User's account. This helps you change the password if the user has lost it somehow. However, this function\ncan only be used if the user has already logged in within the application while meeting the minimum share threshold."}),"\n",(0,r.jsx)(t.h4,{id:"usage-11",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'import { TssSecurityQuestion } from "@web3auth/mpc-core-kit";\n\nconst securityQuestion: TssSecurityQuestion = new TssSecurityQuestion();\n\nawait securityQuestion.changeSecurityQuestion({ mpcCoreKit: coreKitInstance, newQuestion, newAnswer, answer });\n'})}),"\n",(0,r.jsx)(t.h3,{id:"delete-security-question-share",children:"Delete Security Question Share"}),"\n",(0,r.jsx)(t.h4,{id:"deletesecurityquestionmpccorekit-web3authmpccorekit-deletefactorkey-boolean-promisevoid",children:(0,r.jsx)(t.code,{children:"deleteSecurityQuestion(mpcCoreKit: Web3AuthMPCCoreKit, deleteFactorKey?: boolean): Promise<void>;"})}),"\n",(0,r.jsx)(t.p,{children:"Deletes the Security Question Share of the User's account. This function can only be used if the user has already logged in within the application\nwhile meeting the minimum share threshold."}),"\n",(0,r.jsx)(t.h4,{id:"usage-12",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'import { TssSecurityQuestion } from "@web3auth/mpc-core-kit";\n\nconst securityQuestion: TssSecurityQuestion = new TssSecurityQuestion();\n\nawait securityQuestion.deleteSecurityQuestion(coreKitInstance);\n'})}),"\n",(0,r.jsx)(t.h3,{id:"get-factor-key-from-security-question",children:"Get Factor Key from Security Question"}),"\n",(0,r.jsx)(t.h4,{id:"recoverfactormpccorekit-web3authmpccorekit-answer-string-promisestring",children:(0,r.jsx)(t.code,{children:"recoverFactor(mpcCoreKit: Web3AuthMPCCoreKit, answer: string): Promise<string>"})}),"\n",(0,r.jsx)(t.p,{children:"Returns the Factor Key stored against the security question share."}),"\n",(0,r.jsx)(t.h4,{id:"usage-13",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'import { TssSecurityQuestion } from "@web3auth/mpc-core-kit";\n\nconst securityQuestion: TssSecurityQuestion = new TssSecurityQuestion();\n\nconst factorKey = await securityQuestion.recoverFactor(coreKitInstance, answer);\n'})}),"\n",(0,r.jsx)(t.h3,{id:"get-security-question-for-users-account",children:"Get Security Question for User's Account"}),"\n",(0,r.jsx)(t.h4,{id:"getquestionmpccorekit-web3authmpccorekit-string",children:(0,r.jsx)(t.code,{children:"getQuestion(mpcCoreKit: Web3AuthMPCCoreKit): string;"})}),"\n",(0,r.jsx)(t.p,{children:"Get the security question for the user's account."}),"\n",(0,r.jsx)(t.h4,{id:"usage-14",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"const question = securityQuestion.getQuestion(coreKitInstance!);\n"})}),"\n",(0,r.jsx)(t.h2,{id:"mnemonic-conversations",children:"Mnemonic Conversations"}),"\n",(0,r.jsx)(t.h3,{id:"mnemonic-to-key",children:"Mnemonic to Key"}),"\n",(0,r.jsx)(t.h4,{id:"mnemonictokeysharemnemonic-string-string",children:(0,r.jsx)(t.code,{children:"mnemonicToKey(shareMnemonic: string): string"})}),"\n",(0,r.jsx)(t.p,{children:"Converts a Mnemonic to a BN."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"const factorKeyBN = keyToMnemonic(factorKeyMnemonic);\n"})}),"\n",(0,r.jsx)(t.h3,{id:"key-to-mnemonic",children:"Key to Mnemonic"}),"\n",(0,r.jsx)(t.h4,{id:"keytomnemonicsharehex-string-string",children:(0,r.jsx)(t.code,{children:"keyToMnemonic(shareHex: string): string"})}),"\n",(0,r.jsx)(t.p,{children:"Converts a factor key hex string to a Mnemonic."}),"\n",(0,r.jsx)(t.h4,{id:"usage-15",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"const factorKeyMnemonic = keyToMnemonic(factorKeyHex);\n"})})]})}function h(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},11151:(e,t,n)=>{n.d(t,{Z:()=>c,a:()=>o});var r=n(67294);const s={},i=r.createContext(s);function o(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);