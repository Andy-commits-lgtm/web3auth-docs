"use strict";(self.webpackChunkweb3auth_docs=self.webpackChunkweb3auth_docs||[]).push([[94023],{3085:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var r=n(85893),i=n(11151);const s={title:"Usage tKey Android SDK",sidebar_label:"Usage",displayed_sidebar:"sdk",description:"Core Kit tKey iOS SDK - Usage | Documentation - Web3Auth"},d=void 0,a={id:"sdk/core-kit/tkey-android/usage",title:"Usage tKey Android SDK",description:"Core Kit tKey iOS SDK - Usage | Documentation - Web3Auth",source:"@site/docs/sdk/core-kit/tkey-android/usage.mdx",sourceDirName:"sdk/core-kit/tkey-android",slug:"/sdk/core-kit/tkey-android/usage",permalink:"/docs/sdk/core-kit/tkey-android/usage",draft:!1,unlisted:!1,editUrl:"https://github.com/web3auth/web3auth-docs/edit/master/docs/sdk/core-kit/tkey-android/usage.mdx",tags:[],version:"current",frontMatter:{title:"Usage tKey Android SDK",sidebar_label:"Usage",displayed_sidebar:"sdk",description:"Core Kit tKey iOS SDK - Usage | Documentation - Web3Auth"},sidebar:"sdk",previous:{title:"Initialize",permalink:"/docs/sdk/core-kit/tkey-android/initialize"},next:{title:"Modules",permalink:"/docs/sdk/core-kit/tkey-android/modules/"}},o={},l=[{value:"<code>ThresholdKey</code>",id:"thresholdkey",level:3},{value:"Log In",id:"log-in",level:2},{value:"Triggering Login and Initializing Service Provider",id:"triggering-login-and-initializing-service-provider",level:3},{value:"<code>SubVerifierDetails</code>",id:"subverifierdetails",level:4},{value:"<code>CustomAuth</code>",id:"customauth",level:4},{value:"Instantiate tKey",id:"instantiate-tkey",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Initialize tKey",id:"initialize-tkey",level:2},{value:"<code>initialize(params?)</code>",id:"initializeparams",level:4},{value:"Parameters",id:"parameters-1",level:3},{value:"Get tKey Details",id:"get-tkey-details",level:2},{value:"Usage Sample",id:"usage-sample",level:4},{value:"Reconstruct Private Key",id:"reconstruct-private-key",level:2},{value:"Generate a New Share",id:"generate-a-new-share",level:2},{value:"Delete a Share",id:"delete-a-share",level:2},{value:"Using Modules for Further Operations",id:"using-modules-for-further-operations",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"Once you've installed and successfully instantiated tKey and initialized the service provider in your constructor, you can use it to authenticate your\nusers and generate their tKey shares. Further, you can use various functions exposed by the tKey SDK and its modules to manage different aspects of\nyour users' authentication needs."}),"\n",(0,r.jsx)(t.h3,{id:"thresholdkey",children:(0,r.jsx)(t.code,{children:"ThresholdKey"})}),"\n",(0,r.jsxs)(t.p,{children:["Natively, the instance of ",(0,r.jsx)(t.code,{children:"tKey"}),", (i.e., ",(0,r.jsx)(t.code,{children:"ThresholdKey"}),") returns many functions. However, we have documented a few relevant ones here."]}),"\n",(0,r.jsx)(t.h2,{id:"log-in",children:"Log In"}),"\n",(0,r.jsxs)(t.p,{children:["The login with the tKey SDK is a two-step process. First, you need to trigger the login process by calling the ",(0,r.jsx)(t.code,{children:"triggerLogin()"})," function of the\nCustomAuth SDK. Using the returned information, use the ",(0,r.jsx)(t.code,{children:"initialize()"})," function of the tKey to generate the Threshold Key corresponding to the user."]}),"\n",(0,r.jsxs)(t.p,{children:["However, before starting this process, you must set up Custom Authentication on your Web3Auth Dashboard. You must\n",(0,r.jsx)(t.a,{href:"/auth-provider-setup/verifiers",children:"Create a Verifier"})," from the ",(0,r.jsx)(t.strong,{children:"Custom Auth"})," section of the\n",(0,r.jsx)(t.a,{href:"https://dashboard.web3auth.io",children:"Web3Auth Developer Dashboard"})," with your desired configuration."]}),"\n",(0,r.jsx)(t.admonition,{type:"tip",children:(0,r.jsxs)(t.p,{children:["For further information on how to set up and use a verifier, please visit the\n",(0,r.jsx)(t.a,{href:"/pnp/features/custom-authentication",children:(0,r.jsx)(t.strong,{children:"Custom Authentication Documentation"})}),"."]})}),"\n",(0,r.jsx)(t.h3,{id:"triggering-login-and-initializing-service-provider",children:"Triggering Login and Initializing Service Provider"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-java",children:'import org.torusresearch.customauth.CustomAuth;\n\nprivate CustomAuth torusSdk;\nMainActivity activity = ((MainActivity) requireActivity());\n\nCustomAuthArgs args = new CustomAuthArgs(\n  "https://scripts.toruswallet.io/redirect.html",\n  TorusNetwork.TESTNET,\n  "torusapp://org.torusresearch.customauthandroid/redirect"\n);\n\nthis.torusSdk = new CustomAuth(args, activity);\n\nselectedLoginVerifier = new LoginVerifier(\n  name: "Google",\n  typeOfLogin: LoginType.GOOGLE,\n  clientId: GOOGLE_CLIENT_ID,\n  verifier: GOOGLE_VERIFIER);\n\ntorusLoginResponseCf = torusSdk.triggerLogin(new SubVerifierDetails(\n  selectedLoginVerifier.getTypeOfLogin(),\n  selectedLoginVerifier.getVerifier(),\n  selectedLoginVerifier.getClientId())\n  .setPreferCustomTabs(true)\n  .setAllowedBrowsers(allowedBrowsers));\n\ntorusLoginResponseCf.whenCompleteAsync((torusLoginResponse, error) -> {\n  if (error != null) {\n      renderError(error);\n  } else {\n      activity.runOnUiThread(() -> {\n          String publicAddress = torusLoginResponse.getPublicAddress();\n          activity.postboxKey = torusLoginResponse.getPrivateKey().toString(16);\n          binding.resultView.append("publicAddress: " + publicAddress);\n      });\n  }\n});\n\nactivity.tkeyStorage = new StorageLayer(\n  enableLogging: false,\n  hostUrl: "https://metadata.tor.us",\n  serverTimeOffset: 2);\n\nactivity.tkeyProvider = new ServiceProvider(\n  enableLogging: false,\n  postboxKey: activity.postboxKey);\n'})}),"\n",(0,r.jsxs)(t.p,{children:["Generating a private key is an essential step for the tKey to create its share. The ",(0,r.jsx)(t.code,{children:"triggerLogin()"})," function of the ",(0,r.jsx)(t.code,{children:"CustomAuth"})," is called to\naccomplish this."]}),"\n",(0,r.jsx)(t.h4,{id:"subverifierdetails",children:(0,r.jsx)(t.code,{children:"SubVerifierDetails"})}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Mandatory"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"typeOfLogin"})}),(0,r.jsx)(t.td,{children:"LoginType"}),(0,r.jsx)(t.td,{children:"Yes"}),(0,r.jsxs)(t.td,{children:["loginProvider to be used. [ ",(0,r.jsx)(t.code,{children:"google"}),", ",(0,r.jsx)(t.code,{children:"facebook"}),", ",(0,r.jsx)(t.code,{children:"twitch"}),", ",(0,r.jsx)(t.code,{children:"reddit"}),", ",(0,r.jsx)(t.code,{children:"discord"}),", ",(0,r.jsx)(t.code,{children:"apple"}),", ",(0,r.jsx)(t.code,{children:"github"}),", ",(0,r.jsx)(t.code,{children:"linkedin"}),", ",(0,r.jsx)(t.code,{children:"kakao"}),", ",(0,r.jsx)(t.code,{children:"twitter"}),", ",(0,r.jsx)(t.code,{children:"weibo"}),", ",(0,r.jsx)(t.code,{children:"line"}),", ",(0,r.jsx)(t.code,{children:"wechat"}),", ",(0,r.jsx)(t.code,{children:"email_password"}),", and ",(0,r.jsx)(t.code,{children:"jwt"})," ]"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"verifier"})}),(0,r.jsx)(t.td,{children:"String"}),(0,r.jsx)(t.td,{children:"Yes"}),(0,r.jsx)(t.td,{children:"Web3Auth verifier name"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"clientId"})}),(0,r.jsx)(t.td,{children:"String"}),(0,r.jsx)(t.td,{children:"Yes"}),(0,r.jsx)(t.td,{children:"login provider's client Id."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"jwtParams"})}),(0,r.jsx)(t.td,{children:"String"}),(0,r.jsx)(t.td,{children:"No"}),(0,r.jsx)(t.td,{children:"Additional JWT parameters to be passed."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"isNewActivity"})}),(0,r.jsx)(t.td,{children:"boolean"}),(0,r.jsx)(t.td,{children:"No"}),(0,r.jsx)(t.td,{children:"isNewActivity Boolean"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"preferCustomTabs"})}),(0,r.jsx)(t.td,{children:"boolean"}),(0,r.jsx)(t.td,{children:"No"}),(0,r.jsx)(t.td,{children:"preferCustomTabs"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"allowedBrowsers"})}),(0,r.jsx)(t.td,{children:"String[]"}),(0,r.jsx)(t.td,{children:"No"}),(0,r.jsx)(t.td,{children:"String[] array"})]})]})]}),"\n",(0,r.jsx)(t.h4,{id:"customauth",children:(0,r.jsx)(t.code,{children:"CustomAuth"})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.code,{children:"CustomAuth(CustomAuthArgs, activity)"})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.code,{children:"CustomAuthArgs"})}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Mandatory"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"browserRedirectUri"})}),(0,r.jsx)(t.td,{children:"String"}),(0,r.jsx)(t.td,{children:"Yes"}),(0,r.jsxs)(t.td,{children:["It refers to a page that the browser should use in the login flow, it should have a http or https scheme. e.g. ",(0,r.jsx)(t.code,{children:"https://scripts.toruswallet.io/redirect.html"})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"redirectUri"})}),(0,r.jsx)(t.td,{children:"String"}),(0,r.jsx)(t.td,{children:"Yes"}),(0,r.jsxs)(t.td,{children:["It refers to a url for the login flow to redirect into your app, it should have a scheme that is registered by your app, for example ",(0,r.jsx)(t.code,{children:"com.mycompany.myapp://redirect"})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"network"})}),(0,r.jsx)(t.td,{children:"Network"}),(0,r.jsx)(t.td,{children:"Yes"}),(0,r.jsxs)(t.td,{children:["Network to be used. [ ",(0,r.jsx)(t.code,{children:"MAINNET"}),", ",(0,r.jsx)(t.code,{children:"TESTNET"}),", ",(0,r.jsx)(t.code,{children:"CYAN"}),", ",(0,r.jsx)(t.code,{children:"AQUA"}),"]"]})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"instantiate-tkey",children:"Instantiate tKey"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-java",children:"activity.appKey = new ThresholdKey(\n  metadata: null,\n  shares: null,\n  storage: activity.tkeyStorage,\n  provider: activity.tkeyProvider,\n  transitions: null,\n  lastFetchedCloudMetadata: null,\n  enableLogging: false,\n  manualSync: false);\n"})}),"\n",(0,r.jsx)(t.h3,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Description"}),(0,r.jsx)(t.th,{children:"Mandatory"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"metadata"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"Metadata"})}),(0,r.jsx)(t.td,{children:"Metadata object containing the metadata details of tKey."}),(0,r.jsx)(t.td,{children:"No"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"shares"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"ShareStorePolyIdIndexMap"})}),(0,r.jsx)(t.td,{children:"Array of ShareStore with PolyId."}),(0,r.jsx)(t.td,{children:"No"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"storage"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"StorageLayer"})}),(0,r.jsx)(t.td,{children:"Takes in the Storage Provider Instance"}),(0,r.jsx)(t.td,{children:"No"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"provider"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"ServiceProvider"})}),(0,r.jsx)(t.td,{children:"Takes in the Service Provider Instance"}),(0,r.jsx)(t.td,{children:"No"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"transitions"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"LocalMetadataTransitions"})}),(0,r.jsx)(t.td,{children:"Local metadata transitions"}),(0,r.jsx)(t.td,{children:"No"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"lastFetchedCloudMetadata"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"Metadata"})}),(0,r.jsx)(t.td,{children:"lastFetchedCloudMetadata"}),(0,r.jsx)(t.td,{children:"No"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"enableLogging"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"boolean"})}),(0,r.jsx)(t.td,{children:"This option is used to specify whether to enable logging or not."}),(0,r.jsx)(t.td,{children:"No"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"manualSync"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"boolean"})}),(0,r.jsx)(t.td,{children:"manual sync provides atomicity to your tkey share. If manualSync is true, you should sync your local metadata transitions manually to your storageLayer, which means your storage layer doesn\u2019t know the local changes of your tkey unless you manually sync, gives atomicity. Otherwise, If manualSync is false, then your local metadata changes will be synced automatically to your storage layer. If manualSync = true and want to synchronize manually."}),(0,r.jsx)(t.td,{children:"No"})]})]})]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-java",metastring:'title="Usage"',children:'activity.postboxKey = torusLoginResponse.getPrivateKey().toString(16);\n\nactivity.tkeyStorage = new StorageLayer(\n  enableLogging: false,\n  hostUrl: "https://metadata.tor.us",\n  serverTimeOffset: 2);\n\nactivity.tkeyProvider = new ServiceProvider(\n  enableLogging: false,\n  postboxKey: activity.postboxKey);\n\nactivity.appKey = new ThresholdKey(\n  metadata: null,\n  shares: null,\n  storage: activity.tkeyStorage,\n  provider: activity.tkeyProvider,\n  transitions: null,\n  lastFetchedCloudMetadata: null,\n  enableLogging: false,\n  manualSync: false);\n'})}),"\n",(0,r.jsx)(t.h2,{id:"initialize-tkey",children:"Initialize tKey"}),"\n",(0,r.jsx)(t.h4,{id:"initializeparams",children:(0,r.jsx)(t.code,{children:"initialize(params?)"})}),"\n",(0,r.jsx)(t.p,{children:"Once you have triggered the login process, you're ready to initialize the tKey. This will generate a Threshold Key corresponding to your login\nprovider."}),"\n",(0,r.jsx)(t.h3,{id:"parameters-1",children:"Parameters"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Description"}),(0,r.jsx)(t.th,{children:"Mandatory"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"importShare"})}),(0,r.jsx)(t.td,{children:"String"}),(0,r.jsx)(t.td,{children:"An optional string representing the import share."}),(0,r.jsx)(t.td,{children:"No"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"input"})}),(0,r.jsx)(t.td,{children:"ShareStore"}),(0,r.jsx)(t.td,{children:"An optional ShareStore object representing the input."}),(0,r.jsx)(t.td,{children:"No"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"neverInitializedNewKey"})}),(0,r.jsx)(t.td,{children:"Bool"}),(0,r.jsx)(t.td,{children:"A boolean value indicating whether or not to initialize a new key."}),(0,r.jsx)(t.td,{children:"No"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"includeLocalMetadataTransitions"})}),(0,r.jsx)(t.td,{children:"Bool"}),(0,r.jsx)(t.td,{children:"A boolean value indicating whether or not to include local metadata transitions."}),(0,r.jsx)(t.td,{children:"No"})]})]})]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-java",metastring:'title="Usage"',children:"activity.appKey.initialize(activity.postboxKey, null, false, false, result -> {});\n"})}),"\n",(0,r.jsx)(t.h2,{id:"get-tkey-details",children:"Get tKey Details"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.code,{children:"getKeyDetails()"})}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"getKeyDetails()"})," function provides information about the keys created for a particular user. It includes the user's public key X and Y, as well\nas the share descriptions, number of required shares, total shares, and threshold."]}),"\n",(0,r.jsx)(t.h4,{id:"usage-sample",children:"Usage Sample"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-java",children:"KeyDetails keyDetails = activity.appKey.getKeyDetails(); // Returns a KeyDetails object.\n\n//Required shares\nkeyDetails.getRequiredShares()\n\n// Threshold\nkeyDetails.getThreshold()\n\n// Total Shares\nkeyDetails.getTotalShares()\n\n// Share Descriptions\nkeyDetails.getShareDescriptions() // This is a json object in string format\n"})}),"\n",(0,r.jsx)(t.p,{children:"From here, you can know whether the user key can be reconstructed or not."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["If the value of ",(0,r.jsx)(t.code,{children:"keyDetails.getRequiredShares()"})," is more than zero, it implies that the threshold hasn't been met yet, and as a result, the key\ncan't be reconstructed since the user hasn't generated enough shares."]}),"\n",(0,r.jsxs)(t.li,{children:["When the value of ",(0,r.jsx)(t.code,{children:"keyDetails.getRequiredShares()"})," is 0 or less, the user can reconstruct the key. They can then use the shares to generate their\nprivate key and carry out additional operations on the tKey to manage their keys."]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"reconstruct-private-key",children:"Reconstruct Private Key"}),"\n",(0,r.jsxs)(t.p,{children:["The function ",(0,r.jsx)(t.code,{children:"reconstruct()"})," reconstructs the private key of the user from the shares. This function returns the private key of the user once the\nthreshold has been met."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-java",children:"activity.appKey.reconstruct(result -> {\n  //...\n  KeyReconstructionDetails details = ((Result.Success<KeyReconstructionDetails>) result).data;\n})\n\n// public final class KeyReconstructionDetails {\n//   public String getKey()\n//   public ArrayList<String> getSeedPhrase()\n//   public ArrayList<String> getAllKeys()\n// }\n"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-java",metastring:'title="Example"',children:"activity.appKey.reconstruct(result -> {\n  // show loading state\n  if (result instanceof Result.Error) {\n    renderError(((Result.Error<KeyReconstructionDetails>) result).exception);\n    // hide loading state\n  } else if (result instanceof Result.Success) {\n    requireActivity().runOnUiThread(() -> {\n      try {\n        KeyReconstructionDetails details = ((Result.Success<KeyReconstructionDetails>) result).data;\n        binding.generateNewShare.setEnabled(true);\n      } catch (RuntimeError e) {\n        renderError(e);\n      } finally {\n        // hide loading state\n      }\n    });\n  }\n})\n"})}),"\n",(0,r.jsx)(t.h2,{id:"generate-a-new-share",children:"Generate a New Share"}),"\n",(0,r.jsxs)(t.p,{children:["The function ",(0,r.jsx)(t.code,{children:"generateNewShare()"})," generates a new share on the same threshold (e.g, 2/3 -> 2/4). This function returns the new share generated."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-java",children:"activity.appKey.generateNewShare(result -> {});\n"})}),"\n",(0,r.jsx)(t.h2,{id:"delete-a-share",children:"Delete a Share"}),"\n",(0,r.jsxs)(t.p,{children:["The function ",(0,r.jsx)(t.code,{children:"deleteShare()"})," deletes a share from the user's shares. This function returns the updated shareStore after the share has been deleted."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-java",children:"activity.appKey.deleteShare(shareIndex, result -> {});\n"})}),"\n",(0,r.jsx)(t.h2,{id:"using-modules-for-further-operations",children:"Using Modules for Further Operations"}),"\n",(0,r.jsxs)(t.p,{children:["To perform advanced operations and manipulate keys, tKey offers modules that can be utilized. As previously stated in the\n",(0,r.jsx)(t.a,{href:"/sdk/core-kit/tkey-android/initialize",children:"initialization"})," section, modules need to be configured beforehand to function properly with tKey. After\nconfiguration, the respective module's instance is accessible within your tKey instance and can be utilized for additional operations."]}),"\n",(0,r.jsx)(t.admonition,{title:"Modules",type:"info",children:(0,r.jsxs)(t.p,{children:["Please visit the ",(0,r.jsx)(t.a,{href:"/sdk/core-kit/tkey-android/modules",children:(0,r.jsx)(t.strong,{children:"Modules"})})," section to view a comprehensive list of available modules and their respective\nfunctions."]})})]})}function h(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},11151:(e,t,n)=>{n.d(t,{Z:()=>a,a:()=>d});var r=n(67294);const i={},s=r.createContext(i);function d(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);