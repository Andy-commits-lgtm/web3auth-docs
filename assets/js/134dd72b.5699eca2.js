"use strict";(self.webpackChunkweb3auth_docs=self.webpackChunkweb3auth_docs||[]).push([[24083],{4856:(e,n,t)=>{t.d(n,{ZP:()=>o});var r=t(85893),s=t(11151);function a(e){const n={code:"code",pre:"pre",...(0,s.a)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "privKey": "0ajjsdsd....",\n  "userInfo": {\n    "email": "w3a-heroes@web3auth.com",\n    "name": "Web3Auth Heroes",\n    "profileImage": "https://lh3.googleusercontent.com/a/Ajjjsdsmdjmnm...",\n    "verifier": "torus",\n    "verifierId": "w3a-heroes@web3auth.com",\n    "typeOfLogin": "google",\n    "aggregateVerifier": "w3a-google-sapphire",\n    "dappShare": "", // 24 words of seed phrase will be sent only incase of custom verifiers\n    "idToken": "<jwtToken issued by Web3Auth>",\n    "oAuthIdToken": "<jwtToken issued by OAuth Provider>", // will be sent only incase of custom verifiers\n    "oAuthAccessToken": "<accessToken issued by OAuth Provider>", // will be sent only incase of custom verifiers\n    "isMfaEnabled": false // Returns whether the user has enabled MFA or not\n  },\n  "ed25519PrivKey": "666523652352635....",\n  "coreKitKey": "0xajjsdsd....",\n  "coreKitEd25519PrivKey": "666523652352635....",\n  "sessionId": "0xajjsdsd...."\n}\n'})})}function o(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},49180:(e,n,t)=>{t.d(n,{ZP:()=>o});var r=t(85893),s=t(11151);function a(e){const n={code:"code",pre:"pre",...(0,s.a)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "privKey": "0ajjsdsd....",\n  "userInfo": {\n    "email": "w3a-heroes@web3auth.com",\n    "name": "Web3Auth Heroes",\n    "profileImage": "https://lh3.googleusercontent.com/a/Ajjjsdsmdjmnm...",\n    "verifier": "torus",\n    "verifierId": "w3a-heroes@web3auth.com",\n    "typeOfLogin": "google",\n    "aggregateVerifier": "w3a-google-sapphire",\n    "dappShare": "", // 24 words of seed phrase will be sent only incase of custom verifiers\n    "idToken": "<jwtToken issued by Web3Auth>",\n    "oAuthIdToken": "<jwtToken issued by OAuth Provider>", // will be sent only incase of custom verifiers\n    "oAuthAccessToken": "<accessToken issued by OAuth Provider>", // will be sent only incase of custom verifiers\n    "isMfaEnabled": false // Returns whether the user has enabled MFA or not\n  },\n  "ed25519PrivKey": "666523652352635....",\n  "coreKitKey": "0xajjsdsd....",\n  "coreKitEd25519PrivKey": "666523652352635....",\n  "sessionId": "0xajjsdsd...."\n}\n'})})}function o(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},68090:(e,n,t)=>{t.d(n,{ZP:()=>o});var r=t(85893),s=t(11151);function a(e){const n={code:"code",pre:"pre",...(0,s.a)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "aggregateVerifier": "tkey-google",\n  "email": "john@gmail.com",\n  "name": "John Dash",\n  "profileImage": "https://lh3.googleusercontent.com/a/Ajjjsdsmdjmnm...",\n  "typeOfLogin": "google",\n  "verifier": "torus",\n  "verifierId": "john@gmail.com",\n  "dappShare": "<24 words seed phrase>", // will be sent only incase of custom verifiers\n  "idToken": "<jwtToken issued by Web3Auth>",\n  "oAuthIdToken": "<jwtToken issued by OAuth Provider>", // will be sent only incase of custom verifiers\n  "oAuthAccessToken": "<accessToken issued by OAuth Provider>" // will be sent only incase of custom verifiers\n}\n'})})}function o(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},59328:(e,n,t)=>{t.d(n,{ZP:()=>o});var r=t(85893),s=t(11151);function a(e){const n={code:"code",pre:"pre",...(0,s.a)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "email": "john@gmail.com",\n  "name": "John Dash",\n  "profileImage": "https://lh3.googleusercontent.com/a/Ajjjsdsmdjmnm...",\n  "aggregateVerifier": "tkey-google-lrc",\n  "verifier": "torus",\n  "verifierId": "john@gmail.com",\n  "typeOfLogin": "google",\n  "dappShare": "<24 words seed phrase>", // will be sent only incase of custom verifiers\n  "idToken": "<jwtToken issued by Web3Auth>",\n  "oAuthIdToken": "<jwtToken issued by OAuth Provider>", // will be sent only incase of custom verifiers\n  "oAuthAccessToken": "<accessToken issued by OAuth Provider>" // will be sent only incase of custom verifiers\n}\n'})})}function o(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},13507:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>b,contentTitle:()=>f,default:()=>j,frontMatter:()=>p,metadata:()=>m,toc:()=>g});var r=t(85893),s=t(11151),a=t(4856);function o(e){const n={code:"code",pre:"pre",...(0,s.a)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "privKey": "0ajjsdsd....",\n  "userInfo": {\n    "email": "w3a-heroes@web3auth.com",\n    "name": "Web3Auth Heroes",\n    "profileImage": "https://lh3.googleusercontent.com/a/Ajjjsdsmdjmnm...",\n    "verifier": "torus",\n    "verifierId": "w3a-heroes@web3auth.com",\n    "typeOfLogin": "google",\n    "aggregateVerifier": "w3a-google-sapphire",\n    "dappShare": "", // 24 words of seed phrase will be sent only incase of custom verifiers\n    "idToken": "<jwtToken issued by Web3Auth>",\n    "oAuthIdToken": "<jwtToken issued by OAuth Provider>", // will be sent only incase of custom verifiers\n    "oAuthAccessToken": "<accessToken issued by OAuth Provider>", // will be sent only incase of custom verifiers\n    "isMfaEnabled": false // Returns whether the user has enabled MFA or not\n  },\n  "ed25519PrivKey": "666523652352635....",\n  "coreKitKey": "0xajjsdsd....",\n  "coreKitEd25519PrivKey": "666523652352635....",\n  "sessionId": "0xajjsdsd...."\n}\n'})})}function i(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}var l=t(49180),c=t(68090),u=t(59328),d=t(85162),h=t(74866);const p={title:"dApp Share",image:"images/docs-meta-cards/documentation-card.png",displayed_sidebar:"docs",description:"dApp Share | Documentation - Web3Auth"},f="Backup Share for Applications - dApp Share",m={id:"pnp/features/dapp-share",title:"dApp Share",description:"dApp Share | Documentation - Web3Auth",source:"@site/docs/pnp/features/dapp-share.mdx",sourceDirName:"pnp/features",slug:"/pnp/features/dapp-share",permalink:"/docs/pnp/features/dapp-share",draft:!1,unlisted:!1,editUrl:"https://github.com/web3auth/web3auth-docs/edit/master/docs/pnp/features/dapp-share.mdx",tags:[],version:"current",frontMatter:{title:"dApp Share",image:"images/docs-meta-cards/documentation-card.png",displayed_sidebar:"docs",description:"dApp Share | Documentation - Web3Auth"},sidebar:"docs",previous:{title:"Connect External Wallets",permalink:"/docs/pnp/features/connect-external-wallets"},next:{title:"Going Live Checklist",permalink:"/docs/pnp/going-live"}},b={},g=[{value:"Web3Auth Infrastructure at a glance",id:"web3auth-infrastructure-at-a-glance",level:2},{value:"The User Experience in Mobile Platforms",id:"the-user-experience-in-mobile-platforms",level:2},{value:"The dApp Share",id:"the-dapp-share",level:2}];function v(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",strong:"strong",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"backup-share-for-applications---dapp-share",children:"Backup Share for Applications - dApp Share"}),"\n",(0,r.jsx)(n.h2,{id:"web3auth-infrastructure-at-a-glance",children:"Web3Auth Infrastructure at a glance"}),"\n",(0,r.jsxs)(n.p,{children:["If you go through the ",(0,r.jsx)(n.a,{href:"/infrastructure/",children:"Web3Auth infrastructure"})," you'll notice that to enable the non custodiality of Web3Auth, we split the private\nkey into multiple parts, ie. ",(0,r.jsx)(n.code,{children:"shares"}),". These shares are a part of the off chain multisig, where multiple shares are stored in different places and can\nbe used to reconstruct the private key dynamically in the user's frontend application. For a glance at the structure of the shares, these are the\nfollowing:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"ShareA"})," is managed by a login service via node operators"]}),": This share is further split amongst a network of nodes and retrieved via\nconventional authentication flows."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"ShareB"})," is stored on the user's device"]}),": Implementation is device and system specific. For example, on mobile devices, the share could be\nstored in device storage secured via biometrics."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"ShareC"})," is a recovery share"]}),": An extra share to be kept by the user, possibly kept on a separate device, downloaded or based on user input with\nenough entropy (eg. password, security questions, hardware device etc.)."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Similar to existing 2FA systems, a user needs to prove ownership of at least 2 out of 3 (2/3) shares, in order to retrieve his private key. This\ninitial setup provides several benefits."}),"\n",(0,r.jsx)(n.h2,{id:"the-user-experience-in-mobile-platforms",children:"The User Experience in Mobile Platforms"}),"\n",(0,r.jsx)(n.p,{children:"The user experience on mobile platforms is very different from the web platforms. This is because the user has to be redirected to a browser where\nthey can login using their socials and then back to the app once they have been successfully authenticated. This user experience shifts the context\nbetween two applications, whereas, in web platforms, the context remains within the browser only."}),"\n",(0,r.jsx)(n.p,{children:"For the seamless login flow, we need to reconstruct Shares A, and B. Share A is managed by the login service and is provided on successful\nauthentication. Whereas in web platforms, Share B is stored in the browser context. We can still store it in the browser context for mobile devices,\nbut this has a few risks, like users accidentally deleting browser data. This is a bigger problem in mobile devices since the user doesn't realize\nthat the browser is being used to login within the app, and clearing the browser data can cause their logins to fail. Hence, to tackle this issue,\nWeb3Auth issues a dApp Share, i.e., a backup share that can be stored by the app developer directly within their application and used to reconstruct\nthe private key after successful login by the user."}),"\n",(0,r.jsx)(n.h2,{id:"the-dapp-share",children:"The dApp Share"}),"\n",(0,r.jsxs)(n.p,{children:["Once a user logs in, their details are returned as a response to the mobile application. The same response can be retrieved in web applications by\nutilizing the ",(0,r.jsx)(n.code,{children:"getUserInfo()"})," function. Here's what the login response looks like for various platforms."]}),"\n",(0,r.jsxs)(h.Z,{defaultValue:"web",values:[{label:"Web",value:"web"},{label:"Android",value:"android"},{label:"iOS",value:"ios"},{label:"React Native",value:"react-native"},{label:"Flutter",value:"flutter"}],children:[(0,r.jsx)(d.Z,{value:"web",children:(0,r.jsx)(u.ZP,{})}),(0,r.jsx)(d.Z,{value:"android",children:(0,r.jsx)(a.ZP,{})}),(0,r.jsx)(d.Z,{value:"ios",children:(0,r.jsx)(l.ZP,{})}),(0,r.jsx)(d.Z,{value:"react-native",children:(0,r.jsx)(c.ZP,{})}),(0,r.jsx)(d.Z,{value:"flutter",children:(0,r.jsx)(i,{})})]}),"\n",(0,r.jsx)(n.p,{children:"In all of the responses, there is a field called dappShare, which is a 24-word seed phrase that can be used to reconstruct the private key. These\ndappShares supplement Share A and makeup half of the private key. The application can securely store the dApp share in its local storage. Users can\nuse their social media accounts to obtain one share when logging in. The application provides the dApp Share, eliminating the need to store the share\nin the browser context and enabling users to log in smoothly. This is accomplished by passing the stored dApp share value in the login function (for\nMobile SDKs) or the openlogin adapter configuration (for Web SDK)."}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["It's important to understand that ",(0,r.jsx)(n.code,{children:"dappShare"})," is exclusively for ",(0,r.jsx)(n.code,{children:"custom verifiers"})," and can't be used with standard web3auth verifiers. Moreover,\n",(0,r.jsxs)(n.strong,{children:["only users who have ",(0,r.jsx)(n.code,{children:"enabled MFA"})," can access it"]}),". To use dApp Share, you need to use the custom authentication feature of Web3Auth. This guarantees\nthat an application can only access the share corresponding to a user's private key."]})})]})}function j(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(v,{...e})}):v(e)}},85162:(e,n,t)=>{t.d(n,{Z:()=>o});t(67294);var r=t(36905);const s={tabItem:"tabItem_Ymn6"};var a=t(85893);function o(e){let{children:n,hidden:t,className:o}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,r.Z)(s.tabItem,o),hidden:t,children:n})}},74866:(e,n,t)=>{t.d(n,{Z:()=>x});var r=t(67294),s=t(36905),a=t(12466),o=t(16550),i=t(20469),l=t(91980),c=t(67392),u=t(50012);function d(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:s}}=e;return{value:n,label:t,attributes:r,default:s}}))}(t);return function(e){const n=(0,c.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function f(e){let{queryString:n=!1,groupId:t}=e;const s=(0,o.k6)(),a=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l._X)(a),(0,r.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(s.location.search);n.set(a,e),s.replace({...s.location,search:n.toString()})}),[a,s])]}function m(e){const{defaultValue:n,queryString:t=!1,groupId:s}=e,a=h(e),[o,l]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=t.find((e=>e.default))??t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:a}))),[c,d]=f({queryString:t,groupId:s}),[m,b]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,a]=(0,u.Nk)(t);return[s,(0,r.useCallback)((e=>{t&&a.set(e)}),[t,a])]}({groupId:s}),g=(()=>{const e=c??m;return p({value:e,tabValues:a})?e:null})();(0,i.Z)((()=>{g&&l(g)}),[g]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),b(e)}),[d,b,a]),tabValues:a}}var b=t(72389);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=t(85893);function j(e){let{className:n,block:t,selectedValue:r,selectValue:o,tabValues:i}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,a.o5)(),u=e=>{const n=e.currentTarget,t=l.indexOf(n),s=i[t].value;s!==r&&(c(n),o(s))},d=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":t},n),children:i.map((e=>{let{value:n,label:t,attributes:a}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>l.push(e),onKeyDown:d,onClick:u,...a,className:(0,s.Z)("tabs__item",g.tabItem,a?.className,{"tabs__item--active":r===n}),children:t??n},n)}))})}function w(e){let{lazy:n,children:t,selectedValue:s}=e;const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=a.find((e=>e.props.value===s));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:a.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function y(e){const n=m(e);return(0,v.jsxs)("div",{className:(0,s.Z)("tabs-container",g.tabList),children:[(0,v.jsx)(j,{...e,...n}),(0,v.jsx)(w,{...e,...n})]})}function x(e){const n=(0,b.Z)();return(0,v.jsx)(y,{...e,children:d(e.children)},String(n))}},11151:(e,n,t)=>{t.d(n,{Z:()=>i,a:()=>o});var r=t(67294);const s={},a=r.createContext(s);function o(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);