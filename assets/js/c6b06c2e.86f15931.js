"use strict";(self.webpackChunkweb3auth_docs=self.webpackChunkweb3auth_docs||[]).push([[16669],{18786:(e,t,n)=>{n.d(t,{ZP:()=>o});var r=n(85893),a=n(11151);function i(e){const t={code:"code",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"After logging in, the Web3Auth instance will provide you with information regarding the user that is logged in. This information is obtained directly\nfrom the JWT token and is not stored by Web3Auth. Therefore, this information can only be accessed through social logins after the user has logged\ninto your application."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"const user = await web3auth.getUserInfo(); // web3auth instance\n"})})]})}function o(e={}){const{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(i,{...e})}):i(e)}},50210:(e,t,n)=>{n.d(t,{ZP:()=>c});var r=n(85893),a=n(11151),i=n(74866),o=n(85162);function s(e){const t={code:"code",pre:"pre",...(0,a.a)(),...e.components};return(0,r.jsxs)(i.Z,{defaultValue:"modal",values:[{label:"PnP Modal SDK",value:"modal"},{label:"PnP NoModal SDK",value:"no-modal"},{label:"CoreKit SFA Web SDK",value:"sfa"},{label:"CoreKit MFA tKey JS SDK",value:"tkey"}],children:[(0,r.jsx)(o.Z,{value:"modal",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'import { Web3Auth } from "@web3auth/modal";\nimport { CommonPrivateKeyProvider } from "@web3auth/base-provider";\nimport { WEB3AUTH_NETWORK } from "@web3auth/base";\n\nconst privateKeyProvider = new CommonPrivateKeyProvider({\n  config: { chainConfig: chainConfig }\n});\n\nconst web3auth = new Web3Auth({\n  // Get it from Web3Auth Dashboard\n  clientId,\n  web3AuthNetwork: WEB3AUTH_NETWORK.SAPPHIRE_MAINNET,\n  privateKeyProvider: privateKeyProvider,\n});\n'})})}),(0,r.jsx)(o.Z,{value:"no-modal",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'import { Web3AuthNoModal } from "@web3auth/no-modal";\nimport { OpenloginAdapter } from "@web3auth/openlogin-adapter";\nimport { CommonPrivateKeyProvider } from "@web3auth/base-provider";\nimport { WEB3AUTH_NETWORK } from "@web3auth/base";\n\nconst privateKeyProvider = new CommonPrivateKeyProvider({\n  config: {chainConfig},\n});\n\nconst web3auth = new Web3AuthNoModal({\n  clientId, // Get it from Web3Auth Dashboard\n  web3AuthNetwork: WEB3AUTH_NETWORK.SAPPHIRE_MAINNET,\n});\n\nconst openloginAdapter = new OpenloginAdapter();\nweb3auth.configureAdapter(openloginAdapter);\n'})})}),(0,r.jsx)(o.Z,{value:"sfa",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'import { Web3Auth } from "@web3auth/single-factor-auth";\nimport { CommonPrivateKeyProvider } from "@web3auth/base-provider";\n\nconst web3auth = new Web3Auth({\n  clientId, // Get your Client ID from Web3Auth Dashboard\n  web3AuthNetwork: "sapphire_mainnet",\n});\n\nconst privateKeyProvider = new CommonPrivateKeyProvider({\n  config: { chainConfig },\n});\n'})})}),(0,r.jsx)(o.Z,{value:"tkey",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'import { SfaServiceProvider } from "@tkey/service-provider-sfa";\nimport { CommonPrivateKeyProvider } from "@web3auth/base-provider";\n\n// Initialization of private key provider\nconst privateKeyProvider = new CommonPrivateKeyProvider({\n  config: {\n    chainConfig,\n  },\n});\n\nawait (tKey.serviceProvider as SfaServiceProvider).init(privateKeyProvider);\n'})})})]})}function c(e={}){const{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(s,{...e})}):s(e)}},51246:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>u,default:()=>b,frontMatter:()=>l,metadata:()=>d,toc:()=>p});var r=n(85893),a=n(11151),i=n(74866),o=n(85162),s=n(18786),c=n(50210);const l={title:"Integrate Web3Auth with the StarkNet Blockchain",sidebar_label:"StarkNet",image:"content-hub/guides/banners/starknet.png",displayed_sidebar:"docs",keywords:["starknet","web3auth","authentication","blockchain"],description:"Integrate Web3Auth with the StarkNet Blockchain | Documentation - Web3Auth"},u=void 0,d={id:"connect-blockchain/other/starknet",title:"Integrate Web3Auth with the StarkNet Blockchain",description:"Integrate Web3Auth with the StarkNet Blockchain | Documentation - Web3Auth",source:"@site/docs/connect-blockchain/other/starknet.mdx",sourceDirName:"connect-blockchain/other",slug:"/connect-blockchain/other/starknet",permalink:"/docs/connect-blockchain/other/starknet",draft:!1,unlisted:!1,editUrl:"https://github.com/web3auth/web3auth-docs/edit/master/docs/connect-blockchain/other/starknet.mdx",tags:[],version:"current",frontMatter:{title:"Integrate Web3Auth with the StarkNet Blockchain",sidebar_label:"StarkNet",image:"content-hub/guides/banners/starknet.png",displayed_sidebar:"docs",keywords:["starknet","web3auth","authentication","blockchain"],description:"Integrate Web3Auth with the StarkNet Blockchain | Documentation - Web3Auth"},sidebar:"docs",previous:{title:"StarkEx",permalink:"/docs/connect-blockchain/other/starkex"},next:{title:"Tezos",permalink:"/docs/connect-blockchain/other/tezos"}},h={},p=[{value:"Installation",id:"installation",level:2},{value:"Initializing Provider",id:"initializing-provider",level:2},{value:"Getting the <code>chainConfig</code>",id:"getting-the-chainconfig",level:3},{value:"Initializing and instantiating the Web3Auth SDK",id:"initializing-and-instantiating-the-web3auth-sdk",level:3},{value:"Get User Info",id:"get-user-info",level:2},{value:"Get Account and Key",id:"get-account-and-key",level:2},{value:"Deploy Account",id:"deploy-account",level:2}];function m(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["While using the Web3Auth Web SDK for a non EVM chain like ",(0,r.jsx)(t.a,{href:"https://starkware.co/starknet/",children:"StarkNet"})," you get a standard provider from which you can\nget the private key of the user. Using this private key, you can use the corresponding libraries of the blockchain to make blockchain calls like\ngetting user's ",(0,r.jsx)(t.code,{children:"account"}),", fetch ",(0,r.jsx)(t.code,{children:"balance"}),", ",(0,r.jsx)(t.code,{children:"sign transaction"}),", ",(0,r.jsx)(t.code,{children:"send transaction"}),", ",(0,r.jsx)(t.code,{children:"read"})," from and ",(0,r.jsx)(t.code,{children:"write"})," to the smart contract, etc. We have\nhighlighted a few methods here for getting you started quickly on that."]}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsxs)(t.p,{children:["This reference is for the ",(0,r.jsx)(t.code,{children:"Web"}),", however, you can use StarkNet on other Mobile and Gaming Platforms as well. Please follow our reference for\n",(0,r.jsx)(t.a,{href:"/connect-blockchain/evm/",children:"EVM Blockchains"}),", and similarly use StarkNet libraries that support the platforms to use the private key and make\nblockchain calls accordingly."]})}),"\n",(0,r.jsx)(t.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsxs)(i.Z,{groupId:"npm2yarn",children:[(0,r.jsx)(o.Z,{value:"npm",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"npm install --save web3 starknet elliptic bn.js @starkware-industries/starkware-crypto-utils\n"})})}),(0,r.jsx)(o.Z,{value:"yarn",label:"Yarn",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"yarn add web3 starknet elliptic bn.js @starkware-industries/starkware-crypto-utils\n"})})}),(0,r.jsx)(o.Z,{value:"pnpm",label:"pnpm",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"pnpm add web3 starknet elliptic bn.js @starkware-industries/starkware-crypto-utils\n"})})})]}),"\n",(0,r.jsx)(t.h2,{id:"initializing-provider",children:"Initializing Provider"}),"\n",(0,r.jsxs)(t.h3,{id:"getting-the-chainconfig",children:["Getting the ",(0,r.jsx)(t.code,{children:"chainConfig"})]}),"\n",(0,r.jsxs)(i.Z,{defaultValue:"mainnet",values:[{label:"Mainnet",value:"mainnet"},{label:"Testnet",value:"testnet"}],children:[(0,r.jsx)(o.Z,{value:"mainnet",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:'const chainConfig = {\n  chainNamespace: "other",\n  chainId: "0x1", //\n  rpcTarget: "https://rpc.ankr.com/eth",\n  // Avoid using public rpcTarget in production.\n  displayName: "StarkNet Mainnet",\n  blockExplorerUrl: "https://explorer.immutable.com",\n  ticker: "STRK",\n  tickerName: "StarkNet",\n};\n'})})}),(0,r.jsx)(o.Z,{value:"testnet",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:'const chainConfig = {\n  chainNamespace: "other",\n  chainId: "0xaa36a7", //\n  rpcTarget: "https://rpc.ankr.com/eth_sepolia",\n  // Avoid using public rpcTarget in production.\n  displayName: "StarkNet Testnet",\n  blockExplorerUrl: "https://sepolia.etherscan.io",\n  ticker: "STRK",\n  tickerName: "StarkNet",\n};\n'})})})]}),"\n",(0,r.jsx)(t.h3,{id:"initializing-and-instantiating-the-web3auth-sdk",children:"Initializing and instantiating the Web3Auth SDK"}),"\n",(0,r.jsx)(c.ZP,{}),"\n",(0,r.jsx)(t.h2,{id:"get-user-info",children:"Get User Info"}),"\n",(0,r.jsx)(s.ZP,{}),"\n",(0,r.jsx)(t.h2,{id:"get-account-and-key",children:"Get Account and Key"}),"\n",(0,r.jsxs)(t.p,{children:["Once a user logs in, the Web3Auth SDK returns a provider. Even though StarkNet is a layer 2 on Ethereum, it is not EVM compatible. Hence to use it,\none cannot use the native ",(0,r.jsx)(t.a,{href:"https://eips.ethereum.org/EIPS/eip-1193",children:(0,r.jsx)(t.code,{children:"EIP1193"})})," provider that Web3Auth gives for EVM blockchains. Hence we need to\ndirectly use the private key to make the calls here."]}),"\n",(0,r.jsxs)(t.p,{children:["Using the function, ",(0,r.jsx)(t.code,{children:'web3auth.provider.request({method: "private_key"})'})," from Web3Auth provider, the application can have access to the user's private\nkey. However, we cannot use this key with StarkNet EC Curve specific signing functions, hence, we first derive the Stark Key using the ",(0,r.jsx)(t.code,{children:"getStarkKey()"}),"\nfunction."]}),"\n",(0,r.jsxs)(t.p,{children:["On the underhood, it uses the ",(0,r.jsx)(t.code,{children:"starkwareCrypto.ec.keyFromPrivate()"})," function, where we pass our Private key with the ",(0,r.jsx)(t.code,{children:"hex"})," argument since it is hex\nencoded. Further, we get the public key from this using the ",(0,r.jsx)(t.code,{children:"starkwareCrypto.ec.keyFromPublic()"})," function, and we take its X-coordinate using\n",(0,r.jsx)(t.code,{children:".pub.getX()"})," which is our ",(0,r.jsx)(t.code,{children:"starkKey"}),". We use this ",(0,r.jsx)(t.code,{children:"starkKey"})," on StarkNet transactions."]}),"\n",(0,r.jsxs)(t.p,{children:["For the ",(0,r.jsx)(t.code,{children:"deployAccount()"}),", we use the file ",(0,r.jsx)(t.code,{children:"ArgentAccount.json"})," which gives us the ABI of the compiled contract. We use that contract in Starknet's\n",(0,r.jsx)(t.code,{children:"defaultProvider.deployContract()"})," function to deploy the contract."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{href:"https://gist.githubusercontent.com/yashovardhan/27e622a0f8de5acb3686674cd10fe0c8/raw/c1b2f70996083d2c3e85330464f71735aecf58a8/ArgentAccount.json",children:"Get ArgentAccount.json from this gist."})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'import starkwareCrypto from "@starkware-industries/starkware-crypto-utils";\nimport { ec as elliptic } from "elliptic";\n/*\n  Use code from the above Initializing Provider here\n*/\n\n// web3authProvider is web3auth.provider from above\nconst privateKey = await web3authProvider.request({ method: "private_key" });\nconst keyPair = starkwareCrypto.ec.keyFromPrivate(privateKey, "hex");\n// get the account address from the public key\nconst account = starkwareCrypto.ec.keyFromPublic(keyPair.getPublic(true, "hex"), "hex");\n\n// Use this key for the StarkNet transactions\nconst startKey = account.pub.getX().toString("hex");\n'})}),"\n",(0,r.jsx)(t.h2,{id:"deploy-account",children:"Deploy Account"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'import { AddTransactionResponse, defaultProvider } from "starknet";\nimport starkwareCrypto from "@starkware-industries/starkware-crypto-utils";\nimport { ec as elliptic } from "elliptic";\nimport CompiledAccountContractAbi from "./ArgentAccount.json";\n/*\n  Use code from the above Initializing Provider here\n*/\n\n// web3authProvider is web3auth.provider from above\nconst privateKey = await web3authProvider.request({ method: "private_key" });\nconst keyPair = starkwareCrypto.ec.keyFromPrivate(privateKey, "hex");\n// get the account address from the public key\nconst account = starkwareCrypto.ec.keyFromPublic(keyPair.getPublic(true, "hex"), "hex");\n\nconst contract = JSON.parse(JSON.stringify(CompiledAccountContractAbi));\nconst response = await defaultProvider.deployContract({ contract });\n'})})]})}function b(e={}){const{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}},85162:(e,t,n)=>{n.d(t,{Z:()=>o});n(67294);var r=n(36905);const a={tabItem:"tabItem_Ymn6"};var i=n(85893);function o(e){let{children:t,hidden:n,className:o}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.Z)(a.tabItem,o),hidden:n,children:t})}},74866:(e,t,n)=>{n.d(t,{Z:()=>w});var r=n(67294),a=n(36905),i=n(12466),o=n(16550),s=n(20469),c=n(91980),l=n(67392),u=n(50012);function d(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return d(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:a}}=e;return{value:t,label:n,attributes:r,default:a}}))}(n);return function(e){const t=(0,l.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:n}=e;const a=(0,o.k6)(),i=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,c._X)(i),(0,r.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(a.location.search);t.set(i,e),a.replace({...a.location,search:t.toString()})}),[i,a])]}function b(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,i=h(e),[o,c]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:i}))),[l,d]=m({queryString:n,groupId:a}),[b,f]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,i]=(0,u.Nk)(n);return[a,(0,r.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:a}),v=(()=>{const e=l??b;return p({value:e,tabValues:i})?e:null})();(0,s.Z)((()=>{v&&c(v)}),[v]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);c(e),d(e),f(e)}),[d,f,i]),tabValues:i}}var f=n(72389);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=n(85893);function k(e){let{className:t,block:n,selectedValue:r,selectValue:o,tabValues:s}=e;const c=[],{blockElementScrollPositionUntilNextRender:l}=(0,i.o5)(),u=e=>{const t=e.currentTarget,n=c.indexOf(t),a=s[n].value;a!==r&&(l(t),o(a))},d=e=>{let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const n=c.indexOf(e.currentTarget)+1;t=c[n]??c[0];break}case"ArrowLeft":{const n=c.indexOf(e.currentTarget)-1;t=c[n]??c[c.length-1];break}}t?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":n},t),children:s.map((e=>{let{value:t,label:n,attributes:i}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:r===t?0:-1,"aria-selected":r===t,ref:e=>c.push(e),onKeyDown:d,onClick:u,...i,className:(0,a.Z)("tabs__item",v.tabItem,i?.className,{"tabs__item--active":r===t}),children:n??t},t)}))})}function y(e){let{lazy:t,children:n,selectedValue:a}=e;const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:i.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a})))})}function x(e){const t=b(e);return(0,g.jsxs)("div",{className:(0,a.Z)("tabs-container",v.tabList),children:[(0,g.jsx)(k,{...e,...t}),(0,g.jsx)(y,{...e,...t})]})}function w(e){const t=(0,f.Z)();return(0,g.jsx)(x,{...e,children:d(e.children)},String(t))}},11151:(e,t,n)=>{n.d(t,{Z:()=>s,a:()=>o});var r=n(67294);const a={},i=r.createContext(a);function o(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);