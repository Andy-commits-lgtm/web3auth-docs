---
title: Modal
hide_title: true
---


## `@web3auth/web3auth`

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import Web3AuthBasicExample from "../common/web/code/web3auth/_general-example.mdx"

This package provides main class for using default web3auth modal. It is child class of `core` package.
So you can still call all the functions available in `core` api reference.

## `Installation`



<Tabs
  defaultValue="npm"
  values={[
    { label: "npm", value: "npm" },
    { label: "yarn", value: "yarn" },
  ]}
>


<TabItem value="npm">

```shell
npm i --save @web3auth/web3auth
```

</TabItem>

<TabItem value="yarn">

```shell
yarn add @web3auth/web3auth
```

</TabItem>

</Tabs>

## `Web3Auth Basic Example`

<Web3AuthBasicExample/>



## `Class reference`

```ts

type CustomChainConfig = {
  chainNamespace: ChainNamespaceType;
  /**
   * The chain id of the chain
   */
  chainId: string;
  /**
   * RPC target Url for the chain
   */
  rpcTarget: string;
  /**
   * Display Name for the chain
   */
  displayName: string;
  /**
   * Url of the block explorer
   */
  blockExplorer: string;
  /**
   * Default currency ticker of the network (e.g: ETH)
   */
  ticker: string;
  /**
   * Name for currency ticker (e.g: `Ethereum`)
   */
  tickerName: string;
};

interface Web3AuthCoreOptions {
 /**
   * custom chain configuration for chainNamespace
   *
   * @defaultValue mainnet config of provided chainNamespace
   */
  chainConfig: Partial<CustomChainConfig> & Pick<CustomChainConfig, "chainNamespace">;
   /**
   * Config for configuring modal ui display properties
   */
  uiConfig?: UIConfig;
}


interface Web3AuthOptions extends Web3AuthCoreOptions {
  /**
   * Client id for web3auth.
   * You can obtain your client id from the web3auth developer dashboard.
   * You can set any random string for this on localhost.
   */
  clientId: string;

  /**
   * web3auth instance provides different adapters for different type of usages. If you are dapp and want to
   * use external wallets like metamask, then you can use the `DAPP` authMode.
   * If you are a wallet and only want to use you own wallet implementations along with customAuth or openlogin,
   * then you should use `WALLET` authMode.
   *
   * @defaultValue `DAPP`
   */
  authMode?: "DAPP" | "WALLET";
}

class Web3Auth extends Web3AuthCore {
    loginModal: LoginModal;
    readonly options: Web3AuthOptions;
    private defaultModalConfig;
    constructor(options: Web3AuthOptions);
    initModal(params?: {
        modalConfig?: Record<WALLET_ADAPTER_TYPE, ModalConfig>;
    }): Promise<void>;
    connect(): void;
    private initExternalWalletAdapters;
    private initializeInAppWallet;
    private subscribeToLoginModalEvents;
}
```

## `Usage`
----------------
To start with using this package import `Web3Auth` class from  `@web3auth/web3auth`;

```javascript
import `Web3Auth` class from  `@web3auth/web3auth`;
```

Then, create a new instance of web3auth.

```javascript
const web3auth = new Web3Auth(options);
```

The Web3Auth constructor takes an object with `Web3AuthOptions` as input.

**Parameters**

- `options` - `Web3AuthOptions`: The options of the constructor


| Parameter | Type | Description |
| -------- | -------- | -------- |
| `chainConfig`     | `Partial<CustomChainConfig> & Pick<CustomChainConfig, "chainNamespace">;`  |  You can specify custom chain config for web3auth modal, by default it will use mainnet config of specified chain.     |
| `clientId     | `string`     | Get your clientId from developer dashboard.|
| `authMode?`     | `enum` - (`DAPP`, `WALLET`)    | web3auth provides different adapters for different type of usages. If you are dapp and want to use external wallets like metamask, then you can use the `DAPP` authMode.If you are a wallet and only want to use you own wallet implementations along with customAuth or openlogin, then you should use `WALLET` authMode.    |


**Returns**

- `Object`: The web3auth instance with all its methods and events.

**Reference**

```javascript
interface Web3AuthOptions {
/**
   * custom chain configuration for chainNamespace
   *
   * @defaultValue mainnet config of provided chainNamespace
   */
  chainConfig: Partial<CustomChainConfig> & Pick<CustomChainConfig, "chainNamespace">;

 /**
   * Client id for web3auth.
   * You can obtain your client id from the web3auth developer dashboard.
   * You can set any random string for this on localhost.
   */
  clientId: string;

  /**
   * web3auth instance provides different adapters for different type of usages. If you are dapp and want to
   * use external wallets like metamask, then you can use the `DAPP` authMode.
   * If you are a wallet and only want to use you own wallet implementations along with customAuth or openlogin,
   * then you should use `WALLET` authMode.
   *
   * @defaultValue `DAPP`
   */
  authMode?: "DAPP" | "WALLET";
}
```

**Example**

```javascript
  const web3auth = new Web3Auth({
    chainConfig: { chainNamespace: CHAIN_NAMESPACES.EIP155, chainId: "0x3" },
    authType: "DAPP",
    clientId: "example-client-id", // get your client id from developer dashboard
  })


```

## `Configuring Adapters`

- With web3auth , you can either use pre configured adapter factory package corresponding to your chain namespace or you can add your own configuration
to adapter by creating their instance and adding it to web3auth instance.


#### Using default adapter factories:-

- If you want to use web3auth in default mode then you can simply instance the corresponding adapter factory for your chain and add it to web3auth instance.

```ts
  import { OpenloginAdapter } from "@web3auth/openlogin-adapter";
  import { EvmAdapterFactory } from "@web3auth/evm-adapter-factory";

  const web3auth = new Web3Auth({
    chainConfig: { chainNamespace: CHAIN_NAMESPACES.EIP155, chainId: "0x3" },
    authType: "DAPP",
    clientId: "example-client-id", // get your client id from developer dashboard
  })

  /**
    * ⭐️  Here we are adding default adapters for evm chain available in `@web3auth/evm-adapter-factory` package.
    * Refer to table below for evm-adapter-factory tab to know all the default adapters available in this factory.
    * You can add other available default adapter factories for other chain namespaces like solana
    * as `@web3auth/solana-adapter-factory`.
    * If you want to add your custom adapters rather than default adapters from factory packages,
    * you can refer to `Configuring Adapters` tab.
    */
  this.web3auth.addAdapterFactory(new EvmAdapterFactory());

```

#### Following are the adapter factories available for various chainNamespaces along with the default adapters which pre configured in those factories:-



<Tabs
  defaultValue="evm"
  values={[
    { label: "Evm Chain factory", value: "evm" },
    { label: "Solana Chain factory", value: "solana" },
  ]}
>


  <TabItem value="evm">

  #### ChainNamespace:- `eip155`

  #### Installation: `npm i --save @web3auth/evm-adapter-factory`

  | Default Adapters          |
  | ------------------ |
  | `Openlogin`        |
  | `Torus Wallet`        |
  | `Metamask`        |
  | `Wallet connect V1`        |


  </TabItem>

  <TabItem value="solana">


  #### ChainNamespace:- `Solana`

  #### Installation: `npm i --save @web3auth/solana-adapter-factory`


  | Default Adapters          |
  | ------------------ |
  | `Openlogin`        |
  | `Torus Solana Wallet`        |
  | `Phantom Wallet`        |


  </TabItem>

</Tabs>

----

#### Configuring adapter from adapter's package:-

- To configure a adapter create the instance of adapter by using its corresponding package and pass the returned `adapter` instance in `configureAdapter` function.

  - For ex: If you want to configure openlogin adapter, then call import `OpenloginAdapter` from ``@web3auth/openlogin-adapter` package,
  create an instance of the adapter along with the configuration and pass the returned instance in to `web3auth.configureAdapter` as shown in example below.

```ts
  import { OpenloginAdapter } from "@web3auth/openlogin-adapter";

  const web3auth = new Web3Auth({
    chainConfig: { chainNamespace: CHAIN_NAMESPACES.EIP155, chainId: "0x3" },
    authType: "DAPP",
    clientId: "example-client-id", // get your client id from developer dashboard
  })

  const openloginAdapter = new OpenloginAdapter({
         adapterSettings: {
              network: "testnet",
            /* client id is not required for localhost.
            /* You can get your production openlogin's
            /* client/project id from https://dashboard.web3auth.io
            */
              clientId: "localhost-id",
              uxMode: "popup"
        }})

  web3auth.configureAdapter(openloginAdapter);
```


#### The table below summarizes all the available adapters and their corresponding packages:-



| Adapter            | AuthMode         | ChainNamespace    |   Package Name    |
| ------------------ | ---------------- | ----------------- |  ---------------------------|
| `openlogin`        | `WALLET`, `DAPP`  | `EIP155`,`SOLANA` |  `@web3auth/openlogin-adapter`     |
| `custom-auth`      | `WALLET`, `DAPP`  | `EIP155`,`SOLANA` |`@web3auth/customauth-adapter`    |
| `torus-evm`        | `DAPP`           | `EIP155`          | `@web3auth/torus-evm-adapter`      |
| `torus-solana`     | `DAPP`              | `SOLANA`          | `@web3auth/torus-solana-adapter`   |
| `metamask`         | `DAPP`          | `EIP155`          | `@web3auth/metamask-adapter`      |
| `phantom`          | `DAPP`             | `SOLANA`          | `@web3auth/phantom-adapter`       |
| `seedphrase`       | `WALLET`          | `EIP155`,`SOLANA` |  `coming soon..`    |
| `walletconnect-v1` | `DAPP`            | `EIP155`          | `@web3auth/wallet-connect-v1-adapter`|
| `walletconnect-v2` (Coming Soon) | `DAPP`           | `MULTICHAIN`      | `coming soon...`|



## `Initializing Modal`

After you are done with configuring your adapters, you can initialize modal by calling `initModal` function of `web3auth`.

```javascript
await web3auth.initModal(options);
```

`web3auth.initModal` takes an options config object as input.

**Parameters**

- `options` - `{ modalConfig?: Record<WALLET_ADAPTER_TYPE, ModalConfig> }`: The options of the initModal

- options object contains `modalConfig` field using which  you can configure the visibility of each adapter within the modal. Each modal config has following configuration.



| Parameter | Type | Description |
| -------- | -------- | -------- |
| `showOnModal?` (default: true)    | `boolean`     |     Whether to show an adapter in modal or not. |
| `showOnDesktop?`   (default: true)  | `boolean`     |     Whether to show an adapter in desktop or not. |
| `showOnMobile?`   (default: true)  | `boolean`     |     Whether to show an adapter in mobile or not. |
| `loginMethods?` | `LoginMethodConfig`     |    To configure visibility of each loginMethod within the adapter. |


- Reference:-

```ts
 interface BaseAdapterConfig {
  showOnModal?: boolean;
  showOnMobile?: boolean;
  showOnDesktop?: boolean;
}

  LoginConfig = Record<string, {
      verifier: string;
      /**
      * The type of login. Refer to enum `LOGIN_TYPE`
      */
      typeOfLogin: TypeOfLogin;
      /**
      * Display Name. If not provided, we use the default for openlogin app
      */
      name: string;
      /**
      * Description for button. If provided, it renders as a full length button. else, icon button
      */
      description?: string;
      /**
      * Custom client_id. If not provided, we use the default for openlogin app
      */
      clientId?: string;
      verifierSubIdentifier?: string;
      /**
      * Logo to be shown on mouse hover. If not provided, we use the default for openlogin app
      */
      logoHover?: string;
      /**
      * Logo to be shown on dark background (dark theme). If not provided, we use the default for openlogin app
      */
      logoLight?: string;
      /**
      * Logo to be shown on light background (light theme). If not provided, we use the default for openlogin app
      */
      logoDark?: string;
      /**
      * Show login button on the main list
      */
      mainOption?: boolean;
      /**
      * Whether to show the login button on modal or not
      */
      showOnModal?: boolean;
      /**
      * Whether to show the login button on desktop
      */
      showOnDesktop?: boolean;
      /**
      * Whether to show the login button on mobile
      */
      showOnMobile?: boolean;
  }>;

  interface ModalConfig extends BaseAdapterConfig {
    loginMethods?: LoginMethodConfig;
  }
```
- `Promise<void>` : Returns a promise which resolves to void

<TabItem value="basic">

```ts
  await web3auth.initModal({
      modalConfig: {
        [WALLET_ADAPTERS.CUSTOM_AUTH]: {
          loginMethods: {
            "google": {
              typeOfLogin: "google",
              verifier: "google",
              name: "google login",
              logoDark: "url to your custom logo which will shown in dark mode",
            }
          }
        }
      }
    });
```

</TabItem>


## `Showing modal`

After initializing you can show the modal by calling `connect` function on web3auth instance

```javascript
  await web3authCore.connect();
```

## `getUserInfo`

You can get the information about connected user by calling `getUserInfo` function.

> Note: This function will return information based on the connected adapter.

```javascript
  await web3authCore.getUserInfo();
```

## `logout`

You can disconnect from connected wallet using `logout` function.

```javascript
  await web3authCore.logout();
```
