---
title: Torus Users
hide_table_of_contents: true
id: torus-users
---

#### Getting the Challenge from the AuthJS Backend

For a user that signed up with `Google` with the email `hello@tor.us`, with the share `0xBEEF4321...` wanting to receive a challenge on app scoped key
`0x1234C0DE...`

##### POST https://auth-js-backend.tor.us/challenge/get

```json
{
  "verifier": "google",
  "verifier_id": "hello@tor.us",
  "oauth_pub_key": "0xBEEF4321...",
  "app_scoped_pubkey": "0x1234C0DE...",
  "network": "mainnet"
}
```

```javascript
const oauth_pub_key = getPublicCompressed(Buffer.from(oauth_private_key, "hex")).toString("hex");
const app_scoped_pubkey = getPublicCompressed(Buffer.from(app_scoped_privkey.padStart(64, "0"), "hex")).toString("hex");
```

##### Response

> Code: `200 OK`

```json
{
  "success": true,
  "challenge": "message-to-be-signed-0000"
}
```

#### Signing the challenge

```javascript
const msg = Buffer.from(challenge, "utf-8");
const signature = ec.keyFromPrivate(oauth_private_key).sign(msg).toDER("hex");
```

#### Verify signed challenge

##### POST https://auth-js-backend.tor.us/challenge/verify

```json
{
  "verifier": "google",
  "verifier_id": "hello@tor.us",
  "oauth_pub_key": "0xBEEF4321...",
  "signature": "304402203a5b354ebc147..." // Hex encoded signature
}
```

> Code: `200 OK`

```json
{
  "success": true,
  "token": "eyJhbGciOiJFUz..." // JWT token
}
```
